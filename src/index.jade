extends _template

block vars
  - var id = 'home'
  - var title = 'Mathigon.io'
  - var subtitle = 'Discover the open source JavaScript libraries that power Mathigon. Combining functions for DOM manipulation, animations, events handling, UI elements and mathematics, they make web development for modern browsers fun and easy.'

block body

  p Mathigon.js is 

  p Unless where otherwise documented, functions <strong>don&rsquo;t check their arguments</strong> for validity. If a function is called with invalid argument types, the behaviour is undefined and functions may throw unpredictable errors.


  h3 Array Functions

  p Core.js and Fermat.js contain a variety of functions which can be used to simplify the creation and modification of arrays.

  pre: code.language-javascript.
    tabulate(Math.random, 5);
      // [0.7068, 0.9314, 0.6050, 0.9042, 0.2278]

    flatten(tabulate((x, y) => '' + x + y, 3, 3));
      // ['00', '01', '02', '10', '11', '12', '20', '21', '22']

    map((x, y, z) => x + y + z, [1, 2, 3], [4, 5, 6], [7, 8, 9]);
      // [12, 15, 18]

    list(9).chunk(3);
      // [[0, 1, 2], [3, 4, 5], [6, 7, 8]]

  p Fermat.js also provides an Array subclass, #[code Vector] which is more powerful but also less efficient than native JavaScript arrays.


  h3 Expression Parsing

  p Fermat.js is able to parse complex mathematical expressions, including arbitrary functions, arrays and strings. When evaluating, expressions have access to all constants and functions in <code>Math</code> and <code>M</code>, and you can pass in an object of custom variable and function values.

  pre: code.language-javascript.
    let expr = Expression.parse('1 * (2 + x) - 4! + norm([1, 2, x^2]) - (100 / 2)%');
    expr.evaluate({ x: 10 });


  h3 DOM Selection

  p Boost.js provides a variety of functions to select DOM elements. <code>$</code>, <code>$I</code>, <code>$C</code> and <code>$T</code> return a single element, while <code>$$</code>, <code>$$C</code> and <code>$$T</code> return arrays of elements. <code>$N</code> and <code>$$N</code> can be used to create new DOM elements.

  pre: code.language-javascript.
    var $el = $C('my-class');
    $el.on('click', function() { ... });
    $el.transform('scale(2)');</code></pre>


  h3 Speical Events

  p Boost.js seamlessly supports a number of special events. The <code>click</code> event is overwritten to happen on <code>mouseup</code> or <code>touchend</code> to avoid delays on mobile devices. The <code>scroll</code>, <code>scrollStart</code> and <code>scrollEnd</code> events are fired for mouse and touch scroling using <code>requestAnimationFrame</code>. Mathigon also simulates cross-platform <code>pointerStart</code>, <code>pointerMove</code>, <code>pointerEnd</code>, <code>pointerEnter</code>, <code>pointerLeave</code> and <code>pointerOver</code> events.

  pre: code.language-javascript.
    $element.on('click', function(e) { console.log('click'); });
    $element.on('scroll', function(e) { console.log(e.top); });
    $element.on('pointerStart', function(e) { console.log(x.top); });


  h3 Animations and Effects

  p Boost.js contains a variety of element transitions, including <code>.enter()</code>, <code>.exit()</code>, and effects like <code>.pulsate()</code>. You can also define generic element animations which use CSS transition to animate any css properties. In particular, you can animate to and from <code>height: auto</code> and <code>width: auto</code>.

  pre: code.language-javascript.
    $element.fadeIn(200);
    $element.pulsate();
    $element.exit('fade', 300, 100);  // duration 300ms, delay 100ms

    $element.animate([
      { css: 'background', from: '#C00', to: '#0C0', duration: 500, timing: 'linear', delay: 200 },
      { css: 'width', to: '200px' }
    ]);

  p <code>M.animate</code> is a wrapper for <code>requestAnimationFrame</code> that can be used to call a function at every step during an animation of fixed length, or indefinitely.

  pre: code.language-javascript.
    animate(function(prop, time) {
      $element.css(left, prop * 200 + 'px');
      $element.text(time + 's');
    }, 500);


  h3 UI Elements

  p Slate.js creates a number of different UI and media element classes. All classes contain appropriate methods and they fire a variety of useful events.

  pre: code.language-javascript.
    var mySlider = new M.Slider($C('track'), 10);
    mySlider.on('move', function(n) { ... })

    var myGallery = new M.Gallery($C('gallery'), { callback: function(index) { ... } });
    myGallery.next();

    M.audio.load('/my-audio.mp4', 'file1');
    var myAudio = new M.audio.Chunk('file1', [20, 40]);
    myAudio.on('timeupdate', function() { ... });
    myAudio.play();


  h3 Roadmap

  ul
    li Update <strong>special events</strong> (<code>click</code>, <code>scroll</code> and <code>pointerMove</code>) to allow removing of events.
    li Improve <strong>expression parsing</strong>, simplification and evaluation
    li Improve <strong>geometry functions</strong>, allowing arbitrary intersection, projections of geometric objects.
    li Create <strong>Bignum</strong> library that can handle arbitrarily large integers, arbitrarily accurate decimals and exact fractions. Update all mathematical functions to seamlessly handle Bignum and native <code>Number</code> inputs.
    li Create new <strong>SVG library</strong> that integrates with the existing geometry, animation and events functions.
    li Create a variety of new reusable <strong>UI components</strong>. Convert all UI widgets into <strong>HTML tags</strong> utilising Web Components and Shadow DOM.


  h3 Contributing

  p Mathigon JS was created to simplify web development, to share code between Mathigon websites, and to reduce the need for a large number of external JavaScript libraries and frameworks. While most of the code was written for specific Mathigon uses, rather than to build a generic and universal library, we hope that you will find it useful for animation and computation heavy projects.
  p To contribute code, please fork our GitHub repository and send us a pull request. If you find bugs or mistakes in Mathigon JS, please <a href="mailto:dev@mathigon.org">email us</a> with details on how to reproduce them.


  .row.social-buttons.padded-thin
    div
      .fb-share-button(data-href="http://mathigon.io", data-type="button_count")
    div
      a.twitter-share-button(href="https://twitter.com/share", data-url="http://mathigon.io", data-text="Textbooks come to Life", data-via="MathigonProject", data-hashtags="Mathigon")
    div
      .g-plus(data-action="share", data-annotation="bubble")
    div
      iframe(src="https://ghbtns.com/github-btn.html?user=Mathigon&type=follow", frameborder="0", scrolling="0", width="130px", height="20px")


  footer Â© 2016 Mathigon, #[a(href="https://github.com/Mathigon/core.js/blob/master/LICENSE") MIT License]

block scripts
  script(src="/vendor/prism.js")
  script(async, defer, src="//connect.facebook.net/en_US/all.js#xfbml=1")
  script(async, defer, src="//apis.google.com/js/platform.js")
  script(async, defer, src="//platform.twitter.com/widgets.js")
