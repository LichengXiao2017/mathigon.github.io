<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Mathigon | core.js</title><meta name="description" content="General purpose JavaScript library."><link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml"><link rel="canonical" href="http://mathigon.io"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/images/favicons/favicon.ico"><link rel="icon" type="image/png" href="/images/favicons/favicon-16.png" sizes="16x16"><link rel="icon" type="image/png" href="/images/favicons/favicon-32.png" sizes="32x32"><link rel="icon" type="image/png" href="/images/favicons/favicon-96.png" sizes="96x96"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta http-equiv="cleartype" content="on"><meta property="og:title" content="Mathigon | core.js"/><meta property="og:description" content="General purpose JavaScript library."/><meta property="og:image" content="http://beta.mathigon.org/images/favicons/favicon-512.png"/><meta property="og:type" content="school"/><meta property="og:site_name" content="Mathigon"/><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Mathigon | core.js"><meta name="twitter:description" content="General purpose JavaScript library."><meta name="twitter:image" content="http://beta.mathigon.org/favicons/twitter.png"><meta name="twitter:site" content="@MathigonProject"><meta name="twitter:creator" content="@philipplegner"><link rel="stylesheet" href="/styles/global.css"><link rel="stylesheet" href="/styles/io.css"><script src="//use.edgefonts.net/source-sans-pro:n3,i3,n4,i4,n6,i6,n7;source-code-pro:n4,n7.js"></script><!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--></head><body class="core"><header><nav row class="wrap"><a href="/" id="nav-logo" class="nav-link"></a> <a grow href="/core" id="nav-core" class="nav-link">core.js</a> <a grow href="/fermat" id="nav-fermat" class="nav-link">fermat.js</a> <a grow href="/boost" id="nav-boost" class="nav-link">boost.js</a> <a grow href="/slate" id="nav-slate" class="nav-link">slate.js</a></nav></header><div class="title"><div class="wrap"><h1>core.js</h1><div row><p class="subtitle" grow>General purpose JavaScript library.</p><div style="width: 260px"><a class="link"><div class="link-download"></div>Download core.min.js</a> <a class="link"><div class="link-github"></div>Explore Source on GitHub</a></div></div></div></div><div class="wrap" id="body"><div class="sidebar"><div class="sidebar-wrap"></div><div class="sidebar-fill"></div></div><div class="content" id="api"><h2>Introduction</h2><p>All functions and methods are part of the <code>M</code> object.</p><p>The Fermat library does no parameter and error checking. If you pass in invalid values the behaviour is undefined and functions may throw unpredictable errors.</p><p>Most functions have no or very few dependencies, so it is easy to find and copy particular algorithms from the source code on GithHub.</p><p class="warning">Core.js extends JavaScript's native Array.prototype and String.prototype object. While often frowned upon, this should improve code length and readability, and not cause any problems unless you use Core.js with another library that extends native prototyoes (like prototype.js).</p><h1 id="core-javascript-tools">Core JavaScript Tools</h1><h2 id="general">General</h2><h3 id="-a-name-noop-a-m-noop-noop-"><a name="noop"></a><a href="#noop">M.noop</a></h3><h4 id="-m-noop-"><code>M.noop()</code></h4><p>takes no arguments and does not do anything.</p><h3 id="-a-name-run-a-m-run-run-"><a name="run"></a><a href="#run">M.run</a></h3><h4 id="-m-run-x-optional-array-args-optional-object-context-various-"><code>M.run(x, optional Array args, optional Object context) : various</code></h4><p>returns <code>x</code> if it is not a function, otherwise returns the result of executing <code>x(args)</code> with <code>context</code> as <code>this</code>.</p><h3 id="-a-name-isoneof-a-m-isoneof-isoneof-"><a name="isOneOf"></a><a href="#isOneOf">M.isOneOf</a></h3><h4 id="-m-isoneof-x-value1-value2-boolean-"><code>M.isOneOf(x, value1, value2, ...) : Boolean</code></h4><p>checks if x is strictly equal (<code>===</code>) to any one of the following arguments.</p><h2 id="objects">Objects</h2><h3 id="-a-name-has-a-m-has-has-"><a name="has"></a><a href="#has">M.has</a></h3><h4 id="-m-has-object-obj-string-key-boolean-"><code>M.has(Object obj, String key): Boolean</code></h4><p>checks if <code>obj</code> contains the property <code>key</code> (not including any prototype functions or inherited methods).</p><h3 id="-a-name-object-keys-a-m-object-keys-object-keys-"><a name="object.keys"></a><a href="#object.keys">M.object.keys</a></h3><h4 id="-m-object-keys-object-obj-array-"><code>M.object.keys(Object obj): Array</code></h4><p>returns an array of all keys in <code>obj</code>. For example, <code>M.object.invert({a: 1, b: 2}) = [&#39;a&#39;, &#39;b&#39;]</code>.</p><h3 id="-a-name-object-invert-a-m-object-invert-object-invert-"><a name="object.invert"></a><a href="#object.invert">M.object.invert</a></h3><h4 id="-m-object-invert-object-obj-object-"><code>M.object.invert(Object obj) : Object</code></h4><p>returns a new object that swaps keys and values in an object <code>obj</code>. For example, <code>M.object.invert({a: &#39;b&#39;, c: &#39;d&#39;}) = {b: &#39;a&#39;, d: &#39;c&#39;}</code>.</p><h3 id="-a-name-object-create-a-m-object-create-object-create-"><a name="object.create"></a><a href="#object.create">M.object.create</a></h3><h4 id="-m-object-create-object-proto-object-"><code>M.object.create(Object proto) : Object</code></h4><p>creates a new object with prototype <code>proto</code>. This is a polyfill for the native JavaScript <code>Object.create</code> method.</p><h3 id="-a-name-each-a-m-each-each-"><a name="each"></a><a href="#each">M.each</a></h3><h4 id="-m-each-collection-function-fn-object-array-"><code>M.each(collection, Function fn) : Object/Array</code></h4><p>executes <code>fn(value, index)</code> repeatedly for every element in a collection like an array or an object, and returns a matching collection that contains the return values of <code>fn</code>.</p><p>For example, <code>M.each([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;], function(x, i) { return i+x; }) = [&#39;0a&#39;, &#39;1b&#39;, &#39;2c&#39;]</code> and <code>M.each({ x: &#39;a&#39;, y: &#39;b&#39;, z: &#39;c&#39;}, function(x, i) { return i+x; }) = [&#39;xa&#39;, &#39;yb&#39;, &#39;zc&#39;]</code>.</p><p><code>M.each</code> ignores elements in the collection&#39;s prototype chain, and correctly handles arrays with missing indices.</p><h3 id="-a-name-some-a-m-some-some-"><a name="some"></a><a href="#some">M.some</a></h3><h4 id="-m-some-collection-function-fn-various-"><code>M.some(collection, Function fn) : various</code></h4><p>executes <code>fn(value, index)</code> repeatedly for every element in a collection, until <code>fn</code> returns a value other than <code>undefined</code>. At this point, the loop stops and <code>M.some</code> returns the last value returned by <code>fn</code>.</p><p>Note that, when <code>collection</code> is an object rather than an array, no assumption should be made about the order of the elements.</p><h3 id="-a-name-extend-a-m-extend-extend-"><a name="extend"></a><a href="#extend">M.extend</a></h3><h4 id="-m-extend-object-x-object-y-"><code>M.extend(Object x, Object y)</code></h4><p>adds all methods in <code>y</code> to <code>x</code>. If <code>y</code> contains <code>undefined</code> elements, the matching elements in <code>x</code> are deleted.</p><h4 id="-m-extend-object-x-object-y-true-"><code>M.extend(Object x, Object y, true)</code></h4><p>adds all methods in <code>y</code> as <em>non-enumerable</em> methods to <code>x</code>. This is most useful when extending prototypes, like in <code>M.extend(MyClass.prototype, { prop1: /**/, prop2: /**/ }, true)</code>.</p><h3 id="-a-name-merge-a-m-merge-merge-"><a name="merge"></a><a href="#merge">M.merge</a></h3><h4 id="-m-merge-object-obj1-object-obj2-object-"><code>M.merge(Object obj1, Object obj2, ...) : Object</code></h4><p>creates a new object that contains all properties of the objects passed in as arguments. If some of the properties overlap, the result will contain the value from the last argument.</p><h3 id="-a-name-watch-a-m-watch-watch-"><a name="watch"></a><a href="#watch">M.watch</a></h3><h4 id="-m-watch-object-obj-string-prop-function-fn-"><code>M.watch(Object obj, String prop, Function fn)</code></h4><p>binds a change watcher to an object <code>obj</code>, which is executed as <code>fn(newVal, oldVal)</code> whenever the value of <code>obj[prop]</code> changes. This effect is achieved using custom <em>getters</em> and <em>setters</em> for <code>obj</code>. As a side effect, thge property <code>prop</code> can only be accessed as <code>obj.prop</code>, but not as <code>obj[&#39;prop&#39;]</code>.</p><h3 id="-a-name-unwatch-a-m-unwatch-unwatch-"><a name="unwatch"></a><a href="#unwatch">M.unwatch</a></h3><h4 id="-m-unwatch-object-obj-string-prop-"><code>M.unwatch(Object obj, String prop)</code></h4><p>removes a previously attached change watcher from <code>obj.prop</code>.</p><h2 id="types">Types</h2><h3 id="-a-name-typeof-a-m-typeof-typeof-"><a name="typeof"></a><a href="#typeof">M.typeof</a></h3><h4 id="-m-typeof-obj-string-"><code>M.typeof(obj): String</code></h4><p>returns the type of any value or object. Possible outcomes are <code>null</code>, <code>undefined</code>, <code>nan</code>, <code>number</code>, <code>string</code>, <code>boolean</code>, <code>array</code>, <code>date</code>, <code>regexp</code>, <code>function</code> or <code>object</code>.</p><p>The type of objects created using <code>new Number(5)</code> or <code>new Array(1, 2, 3)</code> is returned correctly as <code>number</code> or <code>array</code> respectively. Note that <code>typeof NaN == &#39;number&#39;</code>, while <code>NaN</code> has its own type in <code>M.typeof</code>.</p><h3 id="-a-name-istype-a-m-istype-istype-"><a name="isType"></a><a href="#isType">M.isType</a></h3><h4 id="-m-istype-obj-string-t-boolean-"><code>M.isType(obj, String t) : Boolean</code></h4><p>checks if <code>obj</code> is of type <code>t</code>. There are many shortcuts for checking particular types:</p><h4 id="-m-isstring-obj-boolean-"><code>M.isString(obj) : Boolean</code></h4><h4 id="-m-isarray-obj-boolean-"><code>M.isArray(obj) : Boolean</code></h4><h4 id="-m-isnumber-obj-boolean-"><code>M.isNumber(obj) : Boolean</code></h4><h4 id="-m-isinteger-obj-boolean-"><code>M.isInteger(obj) : Boolean</code></h4><h4 id="-m-isdate-obj-boolean-"><code>M.isDate(obj) : Boolean</code></h4><h4 id="-m-isnan-obj-boolean-"><code>M.isNaN(obj) : Boolean</code></h4><h4 id="-m-isfunction-obj-boolean-"><code>M.isFunction(obj) : Boolean</code></h4><h4 id="-m-isboolean-obj-boolean-"><code>M.isBoolean(obj) : Boolean</code></h4><h4 id="-m-isobject-obj-boolean-"><code>M.isObject(obj) : Boolean</code></h4><h2 id="copying-and-comparing">Copying and Comparing</h2><h3 id="-a-name-shallowcopy-a-m-shallowcopy-shallowcopy-"><a name="shallowCopy"></a><a href="#shallowCopy">M.shallowCopy</a></h3><h4 id="-m-shallowcopy-todo-"><code>M.shallowCopy(TODO)</code></h4><p>TODO</p><h3 id="-a-name-deepcopy-a-m-deepcopy-deepcopy-"><a name="deepCopy"></a><a href="#deepCopy">M.deepCopy</a></h3><h4 id="-m-deepcopy-todo-"><code>M.deepCopy(TODO)</code></h4><p>TODO</p><h3 id="-a-name-shallowequals-a-m-shallowequals-shallowequals-"><a name="shallowEquals"></a><a href="#shallowEquals">M.shallowEquals</a></h3><h4 id="-m-shallowcopy-todo-"><code>M.shallowCopy(TODO)</code></h4><p>TODO</p><h3 id="-a-name-deepequals-a-m-deepequals-deepequals-"><a name="deepEquals"></a><a href="#deepEquals">M.deepEquals</a></h3><h4 id="-m-shallowcopy-todo-"><code>M.shallowCopy(TODO)</code></h4><p>TODO</p><h2 id="classes">Classes</h2><p><code>M.Class</code> implements a JavaScript class framework with inheritance, using <code>.extend</code>, and a built-in events model, using the <code>.on</code>, <code>.off</code> and <code>.trigger</code> methods.</p><h3 id="-a-name-class-extend-a-m-class-extend-class-extend-"><a name="Class.extend"></a><a href="#Class.extend">M.Class.extend</a></h3><h4 id="-m-class-extend-object-methods-function-"><code>M.Class.extend(Object methods) : Function</code></h4><p>create a new child-class of M.Class. The <code>methods</code> object should contain a <code>.init</code> method which becomes the constructor of the new Class.</p><p>Every new class contains a <code>.parent</code> property containing their parent class, and an <code>.extend</code> method to create further child classes.</p><p>Note that <code>M.Class.extend</code> is not the same as <a href="&#39;#extend&#39;"><code>M.extend</code></a>.</p><h3 id="-a-name-class-prototype-on-a-m-class-prototype-on-class-prototype-on-"><a name="Class.prototype.on"></a><a href="#Class.prototype.on">M.Class.prototype.on</a></h3><h4 id="-m-class-prototype-on-string-events-function-callback-"><code>M.Class.prototype.on(String events, Function callback)</code></h4><p>binds a new callback to one or more space-separated events.</p><h3 id="-a-name-class-prototype-off-a-m-class-prototype-off-class-prototype-off-"><a name="Class.prototype.off"></a><a href="#Class.prototype.off">M.Class.prototype.off</a></h3><h4 id="-m-class-prototype-off-string-events-function-callback-"><code>M.Class.prototype.off(String events, Function callback)</code></h4><p>removes a callback from one or more events space-separated events.</p><h3 id="-a-name-class-prototype-trigger-a-m-class-prototype-trigger-class-prototype-trigger-"><a name="Class.prototype.trigger"></a><a href="#Class.prototype.trigger">M.Class.prototype.trigger</a></h3><h4 id="-m-class-prototype-trigger-string-event-object-arg-"><code>M.Class.prototype.trigger(String event, Object arg)</code></h4><p>triggers a single event on a class, and calls all bound callbacks with <code>arg</code> as argument.</p><h2 id="strings">Strings</h2><h3 id="-a-name-string-endswith-a-string-endswith-string-endswith-"><a name="String.endsWith"></a><a href="#String.endsWith">String.endsWith</a></h3><h4 id="-string-prototype-endswith-string-end-boolean-"><code>String.prototype.endsWith(String end) : Boolean</code></h4><p>checks if a string ends with another string <code>end</code>.</p><h3 id="-a-name-string-strip-a-string-strip-string-strip-"><a name="String.strip"></a><a href="#String.strip">String.strip</a></h3><h4 id="-string-prototype-strip-string-"><code>String.prototype.strip() : String</code></h4><p>removes any leading or trailing whitespace (spaces, tabs, ...).</p><h3 id="-a-name-string-collapse-a-string-collapse-string-collapse-"><a name="String.collapse"></a><a href="#String.collapse">String.collapse</a></h3><h4 id="-string-prototype-collapse-string-"><code>String.prototype.collapse() : String</code></h4><p>replaces multiple consecutive whitespaces with a sing;e <code>&#39; &#39;</code>.</p><h3 id="-a-name-string-totitlecase-a-string-totitlecase-string-totitlecase-"><a name="String.toTitleCase"></a><a href="#String.toTitleCase">String.toTitleCase</a></h3><h4 id="-string-prototype-totitlecase-string-"><code>String.prototype.toTitleCase() : String</code></h4><p>capitalises every word in a string. For example, <code>&quot;Here is someE TEXT&quot;.toTitleCase() = &quot;Here Is SomeE TEXT&quot;</code>.</p><h3 id="-a-name-string-words-a-string-words-string-words-"><a name="String.words"></a><a href="#String.words">String.words</a></h3><h4 id="-string-prototype-words-string-"><code>String.prototype.words() : [String]</code></h4><p>returns an array containing all the words in a string.</p><h3 id="-a-name-string-contains-a-string-contains-string-contains-"><a name="String.contains"></a><a href="#String.contains">String.contains</a></h3><h4 id="-string-prototype-contains-string-str-boolean-"><code>String.prototype.contains(String str) : Boolean</code></h4><p>checks if a string contains contains <code>str</code>. This polyfill is only added if the environment doesn&#39;t natively support <code>String.prototype.contains</code>.</p><h2 id="arrays">Arrays</h2><h3 id="-a-name-tabulate-a-m-tabulate-tabulate-"><a name="tabulate"></a><a href="#tabulate">M.tabulate</a></h3><h4 id="-m-tabulate-function-fn-integer-x1-integer-x2-integer-xn-array-"><code>M.tabulate(Function fn, Integer x1, Integer x2, ..., Integer xn) : Array</code></h4><p>creates an <code>n</code>-dimensional matrix that contains <code>fn(i1, i2, ..., in)</code> in cell <code>[i1][i2]...[in]</code>.</p><h3 id="-a-name-list-a-m-list-list-"><a name="list"></a><a href="#list">M.list</a></h3><h4 id="-m-list-integer-a-array-"><code>M.list(Integer a) : Array</code></h4><p>creates an array with values ranging from 0 to a (inclusive). For example, <code>M.list(5) = [0, 1, 2, 3, 4]</code>.</p><h3 id="-a-name-map-a-m-map-map-"><a name="map"></a><a href="#map">M.map</a></h3><h4 id="-m-map-todo-"><code>M.map(TODO)</code></h4><p>TODO</p><h3 id="-a-name-flatten-a-m-flatten-flatten-"><a name="flatten"></a><a href="#flatten">M.flatten</a></h3><h4 id="-m-map-todo-"><code>M.map(TODO)</code></h4><p>TODO</p><h3 id="-a-name-array-each-a-array-each-array-each-"><a name="Array.each"></a><a href="#Array.each">Array.each</a></h3><h4 id="-array-each-todo-"><code>Array.each(TODO)</code></h4><p>TODO</p><h3 id="-a-name-array-total-a-array-total-array-total-"><a name="Array.total"></a><a href="#Array.total">Array.total</a></h3><h4 id="-array-each-todo-"><code>Array.each(TODO)</code></h4><p>TODO</p><h3 id="-a-name-array-first-a-array-first-array-first-"><a name="Array.first"></a><a href="#Array.first">Array.first</a></h3><h4 id="-array-each-todo-"><code>Array.each(TODO)</code></h4><p>TODO</p><h3 id="-a-name-array-last-a-array-last-array-last-"><a name="Array.last"></a><a href="#Array.last">Array.last</a></h3><h4 id="-array-each-todo-"><code>Array.each(TODO)</code></h4><p>TODO</p><h3 id="-a-name-array-min-a-array-min-array-min-"><a name="Array.min"></a><a href="#Array.min">Array.min</a></h3><h4 id="-array-each-todo-"><code>Array.each(TODO)</code></h4><p>TODO</p><h3 id="-a-name-array-max-a-array-max-array-max-"><a name="Array.max"></a><a href="#Array.max">Array.max</a></h3><h4 id="-array-each-todo-"><code>Array.each(TODO)</code></h4><p>TODO</p><h3 id="-a-name-array-range-a-array-range-array-range-"><a name="Array.range"></a><a href="#Array.range">Array.range</a></h3><h4 id="-array-each-todo-"><code>Array.each(TODO)</code></h4><p>TODO</p><h3 id="-a-name-array-clean-a-array-clean-array-clean-"><a name="Array.clean"></a><a href="#Array.clean">Array.clean</a></h3><h4 id="-array-each-todo-"><code>Array.each(TODO)</code></h4><p>TODO</p><h3 id="-a-name-array-unique-a-array-unique-array-unique-"><a name="Array.unique"></a><a href="#Array.unique">Array.unique</a></h3><h4 id="-array-each-todo-"><code>Array.each(TODO)</code></h4><p>TODO</p><h3 id="-a-name-array-without-a-array-without-array-without-"><a name="Array.without"></a><a href="#Array.without">Array.without</a></h3><h4 id="-array-each-todo-"><code>Array.each(TODO)</code></h4><p>TODO</p><h3 id="-a-name-array-chunk-a-array-chunk-array-chunk-"><a name="Array.chunk"></a><a href="#Array.chunk">Array.chunk</a></h3><h4 id="-array-each-todo-"><code>Array.each(TODO)</code></h4><p>TODO</p><h3 id="-a-name-array-rotate-a-array-rotate-array-rotate-"><a name="Array.rotate"></a><a href="#Array.rotate">Array.rotate</a></h3><h4 id="-array-each-todo-"><code>Array.each(TODO)</code></h4><p>TODO</p><footer>Footer</footer></div></div><script type="text/javascript" src="/scripts/utilities.js"></script><script type="text/javascript" src="/scripts/docs.js"></script></body></html>