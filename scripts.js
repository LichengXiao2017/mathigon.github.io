/* (c) Mathigon */
(function(){'use strict';function e(e,...t){for(let n of t)if(e===n)return!0;return!1}function t(e,t=-Infinity,n=Infinity){return ne(n,Math.max(t,e))}function n(e){return e*e}function i(e,n=0){return n?setTimeout(e,n):void e()}function l(){let e,t;const n=new Promise((n,i)=>{e=n,t=i});return n.catch(function(e){return e}),{promise:n,resolve:e,reject:t}}function s(e,n=0){let t=!1,i=!1;return function(...l){t?i=!0:(e.apply(null,l),t=!0,setTimeout(function(){i&&e(...l),t=!1,i=!1},n))}}function r(e){return e.length?+e.reduce((e,t)=>e+(+t||0)):0}function o(e,t){return 0<=e.indexOf(t)}function a(e,t){return e.filter((e)=>e!==t)}function d(e,t){return t.lowercase&&(e=e.toLowerCase()),e.split(t.split).map((t)=>t.trim())}function c(e){return e?e.trim().split(/\s+/):[]}function h(e){return e.toLowerCase().replace(/^-/,'').replace(/-(.)/g,(e,t)=>t.toUpperCase())}function p(e){return e instanceof String||'string'==typeof e}function u(e,n,i=ie){return te(e-n)<i}function f(e,n,i,l=ie){if(n>i){var t=[i,n];n=t[0],i=t[1]}return e>n+l&&e<i-l}function g(e,t=1){return Math.round(e/t)*t}function _(e,t){function n(){r&&(!t||s<=t)&&window.requestAnimationFrame(n),s=Date.now()-i,e(t?ne(1,s/t):s),t&&s>=t&&o.resolve()}if(0===t)return void e();let i=Date.now(),s=0,r=!0,o=l(),a=o.promise.then.bind(o.promise);return n(),{cancel:function(){r=!1,o.reject()},then:a}}function m(e,n,i){var l=Math.pow;return'quad'===e?n*n:'cubic'===e?n*n*n:'quart'===e?n*n*n*n:'quint'===e?n*n*n*n*n:'circ'===e?1-J(1-n*n):'sine'===e?1-Q(n*ee/2):'exp'===e?0>=n?0:l(2,10*(n-1)):'back'===e?(i||(i=1.70158),n*n*((i+1)*n-i)):'elastic'===e?(i||(i=.3),-l(2,10*(n-1))*Z((2*(n-1)/i-.5)*ee)):'swing'===e?.5-Q(n*ee)/2:'spring'===e?1-Q(4.5*n*ee)*Math.exp(6*-n):'bounce'===e?n<1/11?1/64-7.5625*(.5/11-n)*(.5/11-n):n<3/11?1/16-7.5625*(2/11-n)*(2/11-n):n<7/11?1/4-7.5625*(5/11-n)*(5/11-n):1-7.5625*(1-n)*(1-n):n}function v(e,n=0,t=0){return 0===n?0:1===n?1:(e=e.split('-'),'in'===e[1]?m(e[0],n,t):'out'===e[1]?1-m(e[0],1-n,t):.5>=n?m(e[0],2*n,t)/2:1-m(e[0],2*(1-n),t)/2)}function y(t,n,e=400,i=0,s='ease-in-out'){if(!oe)return Object.keys(n).forEach((e)=>{let i=n[e];t.css(e,Array.isArray(i)?i[1]:i)}),Promise.resolve();t._data._animation&&t._data._animation.cancel();let o={},a={},d=l(),c=window.getComputedStyle(t._el);Object.keys(n).forEach(function(e){let t=n[e];a[e]=Array.isArray(t)?t[0]:c.getPropertyValue(e),o[e]=Array.isArray(t)?t[1]:t});let p=o.height;'auto'==o.height&&(o.height=r(t.children.map((e)=>e.outerHeight))+'px');let h=t._el.animate([a,o],{duration:e,delay:i,easing:s,fill:'forwards'});h.onfinish=function(i){t._el&&Object.keys(n).forEach((e)=>{t.css(e,'height'==e?p:o[e])}),d.resolve(i),h.cancel()};let u={then:d.promise.then.bind(d.promise),cancel:function(){return t._el&&Object.keys(n).forEach((e)=>{t.css(e,t.css(e))}),h.cancel()}};return setTimeout(function(){t._data._animation=u}),u}function x(e,t='fade',n=500,s=0){if(!oe)return void e.show();i(function(){e.show()},s);let r;if('fade'===t)r=y(e,{opacity:[0,1]},n,s);else if('pop'===t){let t=e.transform.replace(/scale\([0-9.]*\)/,'').replace(ae,'translate($1px,$2px)');y(e,{opacity:[0,1]},n,s),r=y(e,{transform:[t+' scale(0.5)',t+' scale(1)']},n,s,'cubic-bezier(0.175, 0.885, 0.32, 1.275)')}else if(t.startsWith('slide')){let i=t.split('-'),l={};if(o(i,'left')||o(i,'right')){let e=o(i,'right')?'50%':'-50%';l.transform=[`translateX(${e})`,'none'],l.opacity=[0,1]}o(i,'down')&&(l.height=[0,'auto']),r=y(e,l,n,s)}else if('draw'===t){let t=e.strokeLength+'px';e.css({opacity:1,"stroke-dasharray":t+' '+t}),r=y(e,{strokeDashoffset:[t,0]},n,s,'linear'),r.then(function(){e.css('stroke-dasharray','')})}return r}function b(e,t='fade',n=400,i=0){if(!oe)return void e.hide();if('none'===e.css('display'))return;let s;if('fade'===t)s=y(e,{opacity:[1,0]},n,i);else if('pop'===t){let t=e.transform.replace(/scale\([0-9\.]*\)/,'');y(e,{opacity:[1,0]},n,i),s=y(e,{transform:[t+' scale(1)',t+' scale(0.5)']},n,i,'cubic-bezier(0.68, -0.275, 0.825, 0.115)')}else if(t.startsWith('slide')){let l=t.split('-'),r={};if(o(l,'left')||o(l,'right')){let e=o(l,'right')?'50%':'-50%';r.transform=['none',`translateX(${e})`],r.opacity=[1,0]}o(l,'up')&&(r.height=0),s=y(e,r,n,i)}else if('draw'===t){let t=e.strokeLength+'px';e.css('stroke-dasharray',t+' '+t),s=y(e,{strokeDashoffset:[0,t]},n,i,'linear')}return s.then(function(){e.hide()}),s}function w(e,t){e.animationEnd(function(){e.removeClass('effects-'+t)}),e.addClass('effects-'+t)}function k(e=null){e?(e({width:he,height:ue}),de.on('resize',e)):fe()}function L(){if(!_e){_e=!0;for(let e of ge)e();setTimeout(k)}}function C(e){_e?e():ge.push(e)}function E(){let e=document.cookie.split(';'),t={};for(let l,s=0,i=e.length;s<i;++s)l=e[s].split('='),l[0]=l[0].replace(/^\s+|\s+$/,''),t[decodeURIComponent(l[0])]=decodeURIComponent(l[1]);return t}function T(e,t,n=31536000){document.cookie=e+'='+t+';path=/;max-age='+n}function S(e,t){let n=(e||'').split('.'),i=JSON.parse(window.localStorage.getItem(me))||{},l=i;for(let s=0;s<n.length-1;++s)null==l[n[s]]&&(l[n[s]]={}),l=l[n[s]];l[n[n.length-1]]=t,window.localStorage.setItem(me,JSON.stringify(i))}function A(e){let t=JSON.parse(window.localStorage.getItem(me))||{};if(!e)return t;const n=(e||'').split('.'),i=n.pop();for(let i of n){if(!(i in t))return null;t=t[i]}return t[i]}function O(){let e=document.activeElement;return e===document.body?void 0:F(e)}function N(t){if('touches'in t){let e=t.targetTouches.length?t.targetTouches:t.changedTouches;return new se(e[0].clientX,e[0].clientY)}return new se(t.clientX,t.clientY)}function H(t){for(let n of t){const e=n.isIntersecting?'enterViewport':'exitViewport';setTimeout(()=>F(n.target).trigger(e))}}function R(e){if(!e._data.intersectionEvents){if(e._data.intersectionEvents=!0,!window.IntersectionObserver){let t=!1;return void je.on('scroll',()=>{let n=e.isInViewport;t&&!n?(e.trigger('exitViewport'),t=!1):n&&!t&&(e.trigger('enterViewport'),t=!0)})}Se||(Se=new IntersectionObserver(H)),Se.observe(e._el)}}function M(t,n){let i=N(t),l=document.elementFromPoint(i.x,i.y);return e(n._el,l,l.parentNode,l.parentNode.parentNode)}function V(t){if(t._data._pointerEvents)return;t._data._pointerEvents=!0;let e=t.parent,n=null;e.on('pointerend',function(){n=null}),e.on('pointermove',function(i){let e=n;n=M(i,t),null!=e&&n&&!e&&t.trigger('pointerenter',i),!n&&e&&t.trigger('pointerleave',i)})}function B(t,n){n._events['_'+t]||(n._events['_'+t]=!0,n._el.addEventListener(t,function(i){Ae||n.trigger(t,i)}))}function q(e,t,n,i){t in e._events?0>e._events[t].indexOf(n)&&e._events[t].push(n):e._events[t]=[n],t in Oe?e.on(Oe[t],n,i):t in Ne?Ne[t](e,n):e._el.addEventListener(t,n,i)}function P(e,t,n,i){t in e._events&&(e._events[t]=a(e._events[t],n)),t in Oe?e.off(Oe[t],n,i):t in Ne||e._el.removeEventListener(t,n,i)}function I(t,e=!1){let n=t.replace(/Ã—/g,'*');e||(n=n.replace(/"/g,'"').replace(/\$\{([^\}]+)\}/g,(e,t)=>`" + (${t}) + "`),n='"'+n+'"');try{return new Function('_vars',`try {
      with(_vars) { return ${n} }
    } catch(_error) {
      if (!(_error instanceof ReferenceError)) console.warn(_error);
      return "";
    }`)}catch(n){return console.warn('WHILE PARSING: ',t,'\n',n),function(){return''}}}function W(e,t,n,i=n){if(0>n[t].indexOf('${'))return;let l=I(n[t]);e.watch(()=>{i[t]=l(e)}),i[t]=l(e)}function j(e,t,n=!0){for(let i of e.attributes){let n=i.name.match(/^x-/)?document.createAttribute(i.name.replace(/^x-/,'')):i;W(t,'value',i,n),n!==i&&e._el.setAttributeNode(n)}if(e.children.length)for(let i of e.childNodes)'TEXT'===i.tagName?W(t,'text',i):n&&j(i,t);else e.html.trim()&&W(t,'html',e)}function F(t,n=null){const i=n?n._el:document.documentElement,l='string'==typeof t?i.querySelector(t):t;if(!l)return null;if(l.$el)return l.$el;if(e(l,window,document.body,document.documentElement))return new Re(l);const s=(l.tagName||'').toLowerCase();return 0<=qe.indexOf(s)?new Ve(l):0<=Pe.indexOf(s)?new Me(l):'canvas'===s?new Be(l):new He(l)}function $(e,t=null){const n=t?t._el:document.documentElement;let i=n.querySelectorAll(e);return Array.from(i,(e)=>F(e))}function D(e,n={},i=null){let l=0>qe.indexOf(e)?document.createElement(e):document.createElementNS('http://www.w3.org/2000/svg',e);for(let t in n)'id'===t?l.id=n.id:'html'===t?l.innerHTML=n.html:l.setAttribute(t,n[t]);let t=F(l);return i&&i.append(t),t}function z(e){return D('div',{html:e}).children}function X(e){let t=[];for(let n in e){let i=e[n];if(n=encodeURIComponent(n),null==i)return void t.push(n);i=Array.isArray(i)?i.join(','):''+i,i=i.replace(/(\r)?\n/g,'\r\n'),i=encodeURIComponent(i),i=i.replace(/%20/g,'+'),t.push(n+'='+i)}return t.join('&')}function U(e,t,n=null,i={async:!0,cache:!0}){let s=new XMLHttpRequest,r=l(),o='';return s.onreadystatechange=function(){if(!(3>=s.readyState)){let e=s.status;200<=e&&300>e||304===e?r.resolve(s.responseText):r.reject(s)}},'GET'===e?(t+=0<=t.indexOf('?')?'&xhr=1':'?xhr=1',!i.cache&&(t+='_cachebust='+Date.now()),n&&(t+=X(n)+'&'),s.open(e,t,i.async,i.user,i.password)):'POST'==e&&(s.open(e,t,i.async,i.user,i.password),s.setRequestHeader('Content-Type','application/x-www-form-urlencoded'),s.setRequestHeader('X-CSRF-Token',window.csrfToken||''),o=p(n)?'?'+n:Object.keys(n).map((e)=>encodeURIComponent(e)+'='+encodeURIComponent(n[e])).join('&')),s.setRequestHeader('x-requested-with','XMLHttpRequest'),s.send(o),r.promise}function G(e,t=null){return U('GET',e,t)}function Y(){if(!1!==navigator.onLine){for(let e of Object.keys($e))K(e,{data:JSON.stringify($e[e])});$e={}}}function K(e,t=null){U('POST',e,t)}var Z=Math.sin,Q=Math.cos,J=Math.sqrt,ee=Math.PI,te=Math.abs,ne=Math.min;const ie=1e-6,le={pi:ee,e:Math.E};class se{constructor(e=0,t=0){this.x=e,this.y=t}get normal(){return this.scale(1/this.length)}get length(){return J(n(this.x)+n(this.y))}get inverse(){return new se(-this.x,-this.y)}get flip(){return new se(this.y,this.x)}get array(){return[this.x,this.y]}distanceFromLine(e){return se.distance(this,e.project(this))}clamp(e,n,i,l){return new se(t(this.x,e,n),t(this.y,i,l))}transform(e){if(!e)return this;let t=e[0][0]*this.x+e[0][1]*this.y+e[0][2],n=e[1][0]*this.x+e[1][1]*this.y+e[1][2];return new se(t,n)}rotate(e,t=re){let n=this.x-t.x,i=this.y-t.y,l=Q(e),s=Z(e),r=n*l-i*s+t.x,o=n*s+i*l+t.y;return new se(r,o)}reflect(e){let t=e.p2.x-e.p1.x,n=e.p2.y-e.p1.y,i=this.x-e.p1.x,l=this.y-e.p1.y,s=(t*l-n*i)/(t*t+n*n),r=this.x+2*s*n,o=this.y-2*s*t;return new se(r,o)}scale(e,t=e){return new se(this.x*e,this.y*t)}shift(e,t=e){return new se(this.x+e,this.y+t)}translate(e){return this.shift(e.x,e.y)}add(e){return se.sum(this,e)}subtract(e){return se.difference(this,e)}equals(e){return se.equals(this,e)}round(e=1){return new se(g(this.x,e),g(this.y,e))}mod(e,t=e){return new se(this.x%e,this.y%t)}static average(...e){let t=r(e.map((e)=>e.x))/e.length,n=r(e.map((e)=>e.y))/e.length;return new se(t,n)}static dot(e,t){return e.x*t.x+e.y*t.y}static sum(e,t){return new se(e.x+t.x,e.y+t.y)}static difference(e,t){return new se(e.x-t.x,e.y-t.y)}static distance(e,t){return J(n(e.x-t.x)+n(e.y-t.y))}static manhattan(e,t){return te(e.x-t.x)+te(e.y-t.y)}static interpolate(e,n,i=.5){return new se(e.x+i*(n.x-e.x),e.y+i*(n.y-e.y))}static equals(e,t){return u(e.x,t.x)&&u(e.y,t.y)}}const re=new se(0,0);let oe=!1;setTimeout(function(){oe=!0});const ae=/matrix\([0-9.\s]+,[0-9.\s]+,[0-9.\s]+,[0-9.\s]+,([0-9.\s]+),([0-9.\s]+)\)/,de=new class{constructor({split:e=' ',lowercase:t=!1}={}){this._options={split:e,lowercase:t},this._events={}}on(t,n){for(let i of d(t,this._options))i in this._events||(this._events[i]=[]),this._events[i].push(n)}one(e,t){function n(...l){i.off(e,n),t(...l)}let i=this;this.on(e,n)}off(t,e){for(let n of d(t,this._options))n in this._events&&(this._events[n]=this._events[n].filter((t)=>t!==e))}trigger(t,...e){for(let n of d(t,this._options))n in this._events&&this._events[n].forEach(function(t){t.apply(this,e)})}},ce=window.navigator.userAgent,pe=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i;let he=window.innerWidth,ue=window.innerHeight;window.onresize=s(function(){let e=window.innerWidth,t=window.innerHeight;he===e&&800>he&&800>t||(he=e,de.trigger('resize',{width:he,height:t}),je.trigger('scroll',{top:je.scrollTop}))},100);const fe=s(function(){he=window.innerWidth,ue=window.innerHeight,de.trigger('resize',{width:he,height:ue})});let ge=[],_e=!1;window.onload=L,document.addEventListener('DOMContentLoaded',L);const me='_M',ye={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capslock:20,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46},ve=/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/,xe=/\bAppleWebKit\/(\d+)\b/,be=/\bEdge\/12\.(\d+)\b/,we=ve.test(navigator.userAgent)||10547>(navigator.userAgent.match(be)||[])[1]||537>(navigator.userAgent.match(xe)||[])[1],ke={};let Le=!('hidden'in document)&&'webkitHidden'in document,Ce=Le?'webkitHidden':'hidden',Ee=Le?'webkitvisibilitychange':'visibilitychange';document.addEventListener(Ee,function(){de.trigger(document[Ce]?'focus':'blur')});const Te={isMobile:pe.test(navigator.userAgent.toLowerCase()),isRetina:1<(window.devicePixelRatio||1),isTouch:'ontouchstart'in window||window.DocumentTouch&&document instanceof window.DocumentTouch,isChrome:window.chrome,isIE:0<=ce.indexOf('MSIE')||0<=ce.indexOf('Trident'),isFirefox:0<=navigator.userAgent.search('Firefox'),redraw:function(){document.body.offsetHeight},ready:C,resize:k,cssTimeToNumber:function(e){let t=/^([\-\+]?[0-9]+(\.[0-9]+)?)(m?s)$/,n=t.exec(e.trim());return null===n?null:+n[1]*('s'===n[3]?1e3:1)},addCSS:function(e){let t=document.createElement('style');t.type='text/css',t.innerHTML=e,document.head.appendChild(t)},addCSSRule:function(e,t){let n=document.styleSheets[document.styleSheets.length-1],i=n.cssRules.length-1;n.insertRule?n.insertRule(e+'{'+t+'}',i):n.addRule(e,t,i)},replaceSvgImports:function(){if(we){let e=Array.from(document.querySelectorAll('svg > use'));e.forEach(function(e){let t=e.getAttribute('xlink:href'),n=t.split('#'),i=n[0],l=n[1];if(!i.length)return;let s=e.parentNode;s.removeChild(e),i in ke||(ke[i]=G(i));let r=ke[i];r.then(function(e){let t=document.implementation.createHTMLDocument('');t.documentElement.innerHTML=e;let n=t.getElementById(l),i=n.cloneNode(!0),r=document.createDocumentFragment();for(;i.childNodes.length;)r.appendChild(i.firstChild);s.appendChild(r)})})}},on:de.on.bind(de),off:de.off.bind(de),trigger:de.trigger.bind(de),get width(){return he},get height(){return ue},get hash(){return window.location.hash.slice(1)},set hash(e){let t=document.body.scrollTop;window.location.hash=e,document.body.scrollTop=t},get cookies(){return E()},getCookie:function(e){let t=document.cookie.match(new RegExp(`(^|;) ?${e}=([^;]*)(;|$)`));return t?t[2]:null},setCookie:T,deleteCookie:function(e){T(e,'',-1)},setStorage:S,getStorage:A,deleteStorage:function(e){e?S(e,null):window.localStorage.setItem(me,'')},get activeInput(){return O()},keyCodes:ye,onKey:function(t,n){t=c(t).map((e)=>ye[e]||e),document.addEventListener('keydown',function(i){let e=O();e&&e.is('input, textarea, [contenteditable]')||0<=t.indexOf(i.keyCode)&&n(i)})}};let Se,Ae=!1;document.addEventListener('touchstart',()=>Ae=!0);const Oe={change:'propertychange keyup input paste',scrollwheel:'DOMMouseScroll mousewheel',pointerdown:'mousedown touchstart',pointermove:'mousemove touchmove',pointerup:'mouseup touchend',pointercancel:'touchcancel',pointerstop:'mouseup touchend touchcancel'},Ne={scroll:function(e){function t(){let n=e.scrollTop;return n==r?void(s=!1):void(r=n,e.trigger('scroll',{top:r}),window.requestAnimationFrame(t))}function n(){s||window.requestAnimationFrame(t),s=!0}function i(){window.addEventListener('touchmove',n),window.addEventListener('touchend',l)}function l(){window.removeEventListener('touchmove',n),window.removeEventListener('touchend',l)}if(e._data._scrollEvents)return;e._data._scrollEvents=!0;let s=!1,r=null,o=e instanceof Re?window:e._el;o.addEventListener('scroll',n),e._el.addEventListener('touchstart',function(t){t.handled||i()})},hover:function(e,t){let n=null,l=!1;e.on('mouseover',()=>{clearTimeout(n),n=i(()=>{l||(t.enter(),l=!0)},t.delay)}),e.on('mouseout',()=>{clearTimeout(n),n=i(()=>{l&&(t.exit&&t.exit(),l=!1)},t.delay)});const s=t.$clickTarget||e;s.on('click',()=>{l?(t.exit&&t.exit(),l=!1):(t.enter(),l=!0)}),e.on('clickOutside',()=>{l&&(t.exit&&t.exit(),l=!1)})},click:function(t){if(t._events._click)return;if(t._events._click=!0,!navigator.userAgent.match(/iP(ad|hone|od)/g))return void t._el.addEventListener('click',function(n){t.trigger('click',n)});let n;t._el.addEventListener('touchstart',function(t){1==t.touches.length&&(n=N(t))}),t._el.addEventListener('touchend',function(i){if(n){let e=N(i);5>te(e.x-n.x)&&5>te(e.y-n.y)&&t.trigger('click',i),n=null}}),t._el.addEventListener('touchcancel',function(){n=null})},clickOutside:function(t){t._events._clickOutside||(t._events._clickOutside=!0,je.on('click',function(n){F(n.target).hasParent(t)||t.trigger('clickOutside')}))},mousedown:B.bind(null,'mousedown'),mousemove:B.bind(null,'mousemove'),mouseup:B.bind(null,'mouseup'),pointerenter:V,pointerleave:V,enterViewport:R,exitViewport:R};class He{constructor(e){this._el=e,this._data=e?e._m_data||(e._m_data={}):{},this._events=e?e._m_events||(e._m_events={}):{}}get id(){return this._el.id}get data(){return this._el.dataset}get tagName(){return this._el instanceof Text?'TEXT':this._el.tagName.toUpperCase()}getModel(){return this.parent?this.parent.model||this.parent.getModel():null}bindObservable(e,t=!0){return j(this,e,t),e}addClass(e){let t=c(e);if(this._el.classList)for(let e of t)this._el.classList.add(e);else this._el.className+=' '+e}removeClass(e){let t=c(e);if(this._el.classList)for(let e of t)this._el.classList.remove(e);else{let e=new RegExp('(^|\\s)'+t.join('|')+'(\\s|$)','gi');this._el.className=this._el.className.toString().replace(e,' ')}}hasClass(e){let t=this._el.className;return 0<=(' '+t+' ').indexOf(' '+e.trim()+' ')}toggleClass(e){this.hasClass(e)?this.removeClass(e):this.addClass(e)}setClass(e,t){t?this.addClass(e):this.removeClass(e)}attr(e){return this._el.getAttribute(e)}hasAttr(e){return this._el.hasAttribute(e)}setAttr(e,t){this._el.setAttribute(e,t)}removeAttr(e){this._el.removeAttribute(e)}get attributes(){return Array.from(this._el.attributes||[])}get value(){return this._el.value}set value(e){this._el.value=e}get html(){return this._el.innerHTML||''}set html(e){this._el.innerHTML=e}get text(){return this._el.textContent||''}set text(e){this._el.textContent=e}blur(){this._el.blur()}focus(){this._el.focus()}get bounds(){return this._el.getBoundingClientRect()}get offsetTop(){return this._el.offsetTop}get offsetLeft(){return this._el.offsetLeft}get offsetParent(){let e=this._el.offsetParent;return e?F(e):null}get width(){return this._el.offsetWidth}get height(){return this._el.offsetHeight}get innerWidth(){const e=parseFloat(this.css('padding-left')),t=parseFloat(this.css('padding-right'));return this._el.clientWidth-e-t}get innerHeight(){const e=parseFloat(this.css('padding-bottom')),t=parseFloat(this.css('padding-top'));return this._el.clientHeight-e-t}get outerWidth(){const e=parseFloat(this.css('margin-left')),t=parseFloat(this.css('margin-right'));return this.width+e+t}get outerHeight(){const e=parseFloat(this.css('margin-bottom')),t=parseFloat(this.css('margin-top'));return this.height+e+t}get positionTop(){let e=this._el,t=0;do t+=e.offsetTop;while(e=e.offsetParent);return t}get positionLeft(){let e=this._el,t=0;do t+=e.offsetLeft;while(e=e.offsetParent);return t}get boxCenter(){let e=this.bounds;return new se(e.left+e.width/2,e.top+e.height/2)}offset(e){if(e._el===this._el.offsetParent){let t=this.offsetTop+e._el.clientTop,n=this.offsetLeft+e._el.clientLeft,i=t+this.height,l=n+this.width;return{top:t,left:n,bottom:i,right:l}}else{let t=e._el.getBoundingClientRect(),n=this._el.getBoundingClientRect();return{top:n.top-t.top,left:n.left-t.left,bottom:n.bottom-t.top,right:n.right-t.left}}}get isInViewport(){const e=this.bounds;return f(e.top,-e.height,Te.height)}get scrollWidth(){return this._el.scrollWidth}get scrollHeight(){return this._el.scrollHeight}get scrollTop(){return this._el.scrollTop}get scrollLeft(){return this._el.scrollLeft}set scrollTop(e){this._el.scrollTop=e,this.trigger('scroll',{top:e,left:this.scrollLeft})}set scrollLeft(e){this._el.scrollLeft=e,this.trigger('scroll',{top:this.scrollTop,left:e})}fixOverflowScroll(){this._data._fixOverflowScroll||(this._data._fixOverflowScroll=!0,this._el.addEventListener('touchstart',()=>{const e=this.scrollTop,t=this.scrollHeight-this.height;0>=e&&(this.scrollTop=1),e>=t&&(this.scrollTop=t-1)}))}scrollTo(e,t=1e3,n='cubic'){0>e&&(e=0);const i=this.scrollTop,l=e-i;_((e)=>{const t=i+l*v(n,e);this.scrollTop=t,this.trigger('scroll',{top:t})},t)}scrollBy(e,t=1e3,n='cubic'){e&&this.scrollTo(this.scrollTop+e,t,n)}css(e,t){if(!(t===void 0))this._el.style[h(e)]=t;else if('string'==typeof e)return window.getComputedStyle(this._el).getPropertyValue(e);else{const t=Object.keys(e);for(let n of t)this._el.style[h(n)]=e[n]}}get transition(){return this.css('transform')}set transition(e){this._el.style.transition=e}get transform(){return this.css('transform').replace('none','')}set transform(e){this._el.style.transform=e}get transformMatrix(){let e=this.css('transform');if(!e||'none'===e)return[[1,0,0],[0,1,0]];let t=e.match(/matrix\(([0-9\,\.\s\-]*)\)/);if(!t[1])return[[1,0,0],[0,1,0]];let n=t[1].split(',');return[[+n[0],+n[2],+n[4]],[+n[1],+n[3],+n[5]]]}get scale(){let e=this.transformMatrix;return[e[0][0],e[1][1]]}translate(e,t){e=g(+e||0,.1),t=g(+t||0,.1),this.transform=`translate(${e}px,${t}px)`}translateX(e){this.transform=`translate(${g(+e||0,.1)}px,0)`}translateY(e){this.transform=`translate(0,${g(+e||0,.1)}px)`}show(){this.hasAttr('hidden')&&this.removeAttr('hidden'),'visibility'===this.data.display?this._el.style.visibility='visible':this._el.style.display=this.data.display||'block'}hide(){'visibility'===this.data.display?this._el.style.visibility='hidden':this._el.style.display='none'}transitionEnd(e){this.one('transitionend',e)}animationEnd(e){this.one('animationend',e)}is(e){return this._el.matches?this._el.matches(e):-1<[].indexOf.call(document.querySelectorAll(e),this._el)}index(){let e=0,t=this._el;for(;null!==(t=t.previousSibling);)++e;return e}prepend(e){let t=this._el.childNodes;if('string'==typeof e){let t=z(e);for(let e=t.length-1;0<=e;--e)this._el.insertBefore(t[e],this._el.childNodes[0])}else t.length?this._el.insertBefore(e._el,t[0]):this._el.appendChild(e._el)}append(e){if('string'==typeof e){let t=z(e);for(let e of t)this._el.appendChild(e._el)}else this._el.appendChild(e._el)}insertBefore(e){let t=this.parent;if('string'==typeof e){let n=z(e);for(let e=n.length-1;0<=e;--e)t._el.insertBefore(n[e]._el,this._el)}else t._el.insertBefore(e._el,this._el)}insertAfter(e){let t=this.parent;if('string'==typeof e){let n=z(e);for(let e of n)t._el.insertAfter(this._el,e._el)}else{let n=this._el.nextSibling;n?t._el.insertBefore(e._el,n):t._el.appendChild(e._el)}}wrap(e){return'string'==typeof e&&(e=D(e)),this.insertBefore(e),this.detach(),e.append(this),e}moveTo(e,t=!1){t?e.prepend(this):e.append(this)}get next(){let e=this._el.nextSibling;return e?F(e):null}get prev(){let e=this._el.previousSibling;return e?F(e):null}$(e){return F(e,this)}$$(e){return $(e,this)}get parent(){let e=this._el.parentElement;return e?F(e):null}get siblings(){let e=[],t=this._el.parentNode.firstChild;do e.push(F(t));while(t=t.nextSibling);return e}parents(e){let t=[],n=this.parent;for(;n;)(!e||n.is(e))&&t.push(n),n=n.parent;return t}hasParent(...t){for(let n=t.map((e)=>e._el),i=this._el.parentNode;i;){if(e(i,...n))return!0;i=i.parentNode}return!1}get children(){let e=this._el.children||[];return Array.from(e,(e)=>F(e))}get childNodes(){let e=this._el.childNodes||[];return Array.from(e,(e)=>F(e))}detach(){this._el&&this._el.parentNode&&this._el.parentNode.removeChild(this._el)}remove(){this.detach(),this._el=null}removeChildren(){for(;this._el.firstChild;)this._el.removeChild(this._el.firstChild)}replaceWith(...e){for(let t of e)this.insertBefore(t);this.remove()}on(t,n=null,i=!1){if(n)for(let l of c(t))q(this,l,n,i);else for(let n of Object.keys(t))q(this,n,t[n])}one(e,t,n=!1){const i=()=>{this.off(e,i,n),t(e,t,n)};this.on(e,i,n)}off(t,n,i=!1){for(let l of c(t))P(this,l,n,i)}trigger(t,n={}){for(let i of c(t)){if(!this._events[i])return;for(let e of this._events[i])e.call(this,n)}}onKeyDown(t,n){t=c(t).map((e)=>Te.keyCodes[e]||e),this._el.addEventListener('keydown',function(i){0<=t.indexOf(i.keyCode)&&n(i)})}animate(e,t,n,i){return y(this,e,t,n,i)}enter(e,t,n){return x(this,e,t,n)}exit(e,t,n){return b(this,e,t,n)}effect(e){w(this,e)}fadeIn(e=400){return x(this,'fade',e)}fadeOut(e=400){return b(this,'fade',e)}get cursor(){let e=window.getSelection();if(!e.rangeCount)return[0,0];let t=window.getSelection().getRangeAt(0),n=t.cloneRange();n.selectNodeContents(this._el),n.setEnd(t.startContainer,t.startOffset);let i=n.toString().length;n.setEnd(t.endContainer,t.endOffset);let l=n.toString().length;return[i,l]}}class Re extends He{get width(){return window.innerWidth}get height(){return window.innerHeight}get innerWidth(){return window.innerWidth}get innerHeight(){return window.innerHeight}get outerWidth(){return window.outerWidth}get outerHeight(){return window.outerHeight}get scrollWidth(){return document.body.scrollWidth}get scrollHeight(){return document.body.scrollHeight}get scrollTop(){return window.pageYOffset}get scrollLeft(){return window.pageXOffset}set scrollTop(e){document.body.scrollTop=document.documentElement.scrollTop=e,this.trigger('scroll',{top:e,left:this.scrollLeft})}set scrollLeft(e){document.body.scrollLeft=document.documentElement.scrollLeft=e,this.trigger('scroll',{top:this.scrollTop,left:e})}}class Me extends He{get action(){return this._el.action}get formData(){let e={},t=this._el.elements;for(let n=0;n<t.length;++n)e[t[n].name||t[n].id]=t[n].value;return e}change(e){let t='';this.on('change',()=>{this.value===t||(t=this.value.trim(),e(t))})}validate(e){this.change((t)=>{this.setValidity(e(t))})}setValidity(e){this._el.setCustomValidity(e||'')}get isValid(){return this._el.checkValidity()}}class Ve extends He{hasClass(e){let t=this._el.className.baseVal;return 0<=(' '+t+' ').indexOf(' '+e.trim()+' ')}get width(){return this.bounds.width}get height(){return this.bounds.height}get viewBox(){return this._el.viewBox.baseVal||{}}get svgWidth(){return this.viewBox.width||this.width}get svgHeight(){return this.viewBox.height||this.height}get offsetTop(){return this._el.offsetTop}get offsetLeft(){return this._el.offsetLeft}get positionTop(){let e=this.parent;for(;e instanceof Ve;)e=e.parent;return e.positionTop+this._el.getBBox().y}get positionLeft(){let e=this.parent;for(;e instanceof Ve;)e=e.parent;return e.positionLeft+this._el.getBBox().x}get inverseTransformMatrix(){const e=this._el.getScreenCTM().inverse(),t=[[e.a,e.c,e.e],[e.b,e.d,e.f]];if(Te.isFirefox){let e=this.transformMatrix;t[0][2]-=e[0][2],t[1][2]-=e[1][2]}return t}get strokeLength(){if('getTotalLength'in this._el)return this._el.getTotalLength();if(this._el instanceof SVGLineElement)return J(n(this._el.x2.baseVal.value-this._el.x1.baseVal.value)+n(this._el.y2.baseVal.value-this._el.y1.baseVal.value));else{let e=this.bounds;return 2*e.height+2*e.width}}getPointAt(e){return this._el.getPointAtLength(e*this.strokeLength)}getPointAtLength(e){return this._el.getPointAtLength(e)}get points(){let e=this.attr('d');return e?e.replace(/[MZ]/g,'').split(/[LA]/).map((e)=>{let t=e.split(',');return{x:+t[t.length-2],y:+t[t.length-1]}}):[]}set points(e){let t=e.length?'M'+e.map((e)=>e.x+','+e.y).join('L'):'';this.setAttr('d',t)}addPoint(e){let t=this.attr('d')+' L '+e.x+','+e.y;this.setAttr('d',t)}get center(){return new se(+this.attr('cx'),+this.attr('cy'))}setCenter(e){this.setAttr('cx',e.x),this.setAttr('cy',e.y)}setLine(e,t){this.setAttr('x1',e.x),this.setAttr('y1',e.y),this.setAttr('x2',t.x),this.setAttr('y2',t.y)}}class Be extends He{getContext(e='2d',t={}){return this._el.getContext(e,t)}get pngImage(){return this._el.toDataURL('image/png')}}const qe=['path','rect','circle','ellipse','polygon','polyline','g','defs','marker','line','text','pattern','mask','svg'],Pe=['form','input','select'],Ie=new Re(window),We=new Re(window.document.documentElement),je=new Re(document.body);let $e={};const Fe=s(Y,5e3);window.addEventListener('online',Fe),window.onbeforeunload=function(){Y()},'scrollRestoration'in history&&(history.scrollRestoration='manual');(function(){let t=!1;return'complete'===document.readyState?t=!0:window.addEventListener('load',function(){setTimeout(function(){t=!0})}),function(n){t&&n.state&&this.goToState(n.state)}})();We.addClass((Te.isMobile?'is':'not')+'-mobile'),Te.replaceSvgImports(),Te.ready(function(){function e(e){for(let t of l)if(t[0]>e)return t}const t=F('.api-body');if(!t)return;const n=F('.sidebar-body'),l=[];let s;t.$$('h2, h3, h4').forEach((e,t)=>{const i=e.$('a').id;let r,o;e.is('h2')?(r=D('a',{href:'#'+i,html:e.text},n),s=o=D('div',{class:'hidden'},n)):(r=D('a',{href:'#'+i,html:i.replace('+','#').replace('module_','')},s),o=s),Te.resize(()=>l[t]=[e.positionTop,r,o])});let i,r;je.on('scroll',function({top:t}){let n=e(t);n[1]!==i&&(i&&i.removeClass('active'),i=n[1],i.addClass('active')),n[2]!==r&&(r&&r.addClass('hidden'),r=n[2],r&&r.removeClass('hidden'))})})})();
