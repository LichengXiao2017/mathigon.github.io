/* (c) Mathigon */
(function(){'use strict';function e(e,...t){for(let n of t)if(e===n)return!0;return!1}function t(e,t){for(let n of Object.keys(t))e.hasOwnProperty(n)||(e[n]=t[n]);return e}function n(e,t=-Infinity,n=Infinity){return Oe(n,Me(t,e))}function r(e){return e*e}function s(e,n=0){return n?setTimeout(e,n):void e()}function i(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});return n.catch(function(e){return e}),{promise:n,resolve:e,reject:t}}function o(e,n=0){let t=!1,r=!1;return function(...s){t?r=!0:(e.apply(null,s),t=!0,setTimeout(function(){r&&e(...s),t=!1,r=!1},n))}}function a(e){return e.length?+e.reduce((e,t)=>e+(+t||0)):0}function l(e,t){return e.filter((e)=>e!==t)}function d(e,t){return t.lowercase&&(e=e.toLowerCase()),e.split(t.split).map((t)=>t.trim())}function c(e){return e?e.trim().split(/\s+/):[]}function h(e){return e.toLowerCase().replace(/^-/,'').replace(/-(.)/g,(e,t)=>t.toUpperCase())}function p(e,t=1){let n=e;for(let r=1;r<t;++r)n+=e;return n}function u(e){return e instanceof String||'string'==typeof e}function f(e,n,r=Ne){return Ve(e-n)<r}function y(e,n,r,s=Ne){const t=n>r?[r,n]:[n,r],i=t[0],o=t[1];return e>i+s&&e<o-s}function g(e,t=1){return Math.round(e/t)*t}function m(e){if(1===e.length)return[[],e];let t=e.pop(),n=m(e),r=[];for(let i of n){let e=i.slice(0);e.push(t),r.push(i,e)}return r}function x(e,t=0){let n=e.slice(0),r=m(n);return t&&(r=r.filter((e)=>e.length===t)),r}function _(e,...t){return e instanceof Function?e(...t):e}function v(e,t=-Infinity,n=Infinity){return Oe(n,Me(t,e))}function w(e){return e*e}function b(e,t,n){if(!n.length)return _(e,...t);let r=n.slice(0),s=r.shift(),o=[];for(let a=0;a<s;++a)o.push(b(e,t.concat([a]),r));return o}function k(e,...t){return b(e,[],t)}function L(e){return e.length?+e.reduce((e,t)=>e+(+t||0)):0}function C(e){return e.reduce((e,t)=>e.concat(Array.isArray(t)?C(t):t),[])}function E(e){const t=e.map((e)=>({val:e,next:null})),r=t.length;for(let n=0;n<r;++n)t[n].next=t[(n+1)%r];return t}function T(e,t=qe){const n=Math.atan2(e.y-t.y,e.x-t.x);return(n+Pe)%Pe}function A(e,t){return f(e.p1.x,e.p2.x)?y(t.y,e.p1.y,e.p2.y):y(t.x,e.p1.x,e.p2.x)}function S(e,t){return f(e.p1.x,e.p2.x)?0<(t.y-e.p1.y)/(e.p2.y-e.p1.y):0<(t.x-e.p1.x)/(e.p2.x-e.p1.x)}function V(e,t){const n=e.p1.x-e.p2.x,r=e.p1.y-e.p2.y,s=t.p1.x-t.p2.x,i=t.p1.y-t.p2.y,o=n*i-r*s;if(f(o,0))return[];const a=e.p1.x*e.p2.y-e.p1.y*e.p2.x,l=t.p1.x*t.p2.y-t.p1.y*t.p2.x;return[new Re((a*s-n*l)/o,(a*i-r*l)/o)]}function O(e,t){const n=Re.distance(e.c,t.c);if(n>e.r+t.r)return[];if(n<Ve(e.r-t.r))return[];if(f(n,0)&&f(e.r,t.r))return[];if(f(n,e.r+t.r))return[new Be(e.c,t.c).midpoint];const r=(w(e.r)-w(t.r)+w(n))/(2*n),s=Ae(w(e.r)-w(r)),i=(t.c.x-e.c.x)*r/n+(t.c.y-e.c.y)*s/n+e.c.x,o=(t.c.y-e.c.y)*r/n-(t.c.x-e.c.x)*s/n+e.c.y,a=(t.c.x-e.c.x)*r/n-(t.c.y-e.c.y)*s/n+e.c.x,l=(t.c.y-e.c.y)*r/n+(t.c.x-e.c.x)*s/n+e.c.y;return[new Re(i,o),new Re(a,l)]}function M(){return[]}function N(...e){if(2>e.length)return[];if(2<e.length)return C(x(e,2).map((t)=>N(...t)));const t=e[0],n=e[1];if(t instanceof ze||t instanceof Xe)return N(n,...t.edges);if(n instanceof ze||t instanceof Xe)return N(t,...n.edges);let r=[];return t instanceof Be&&n instanceof Be?r=V(t,n):t instanceof Be&&n instanceof $e?r=M(t,n):t instanceof $e&&n instanceof Be?r=M(n,t):t instanceof $e&&n instanceof $e&&(r=O(t,n)),t instanceof Ie&&(r=r.filter((e)=>A(t,e))),n instanceof Ie&&(r=r.filter((e)=>A(n,e))),t instanceof We&&(r=r.filter((e)=>S(t,e))),n instanceof We&&(r=r.filter((e)=>S(n,e))),r}function H(e,t){function n(){o&&(!t||s<=t)&&window.requestAnimationFrame(n);const i=Date.now()-r;e(t?Oe(1,i/t):i,i-s),t&&i>=t&&a.resolve(),s=i}if(0===t)return void e();let r=Date.now(),s=0,o=!0,a=i(),l=a.promise.then.bind(a.promise);return n(),{cancel:function(){o=!1,a.reject()},then:l}}function R(e,n,r){var s=Math.pow;return'quad'===e?n*n:'cubic'===e?n*n*n:'quart'===e?n*n*n*n:'quint'===e?n*n*n*n*n:'circ'===e?1-Ae(1-n*n):'sine'===e?1-Te(n*Se/2):'exp'===e?0>=n?0:s(2,10*(n-1)):'back'===e?(r||(r=1.70158),n*n*((r+1)*n-r)):'elastic'===e?(r||(r=.3),-s(2,10*(n-1))*Ee((2*(n-1)/r-.5)*Se)):'swing'===e?.5-Te(n*Se)/2:'spring'===e?1-Te(4.5*n*Se)*Math.exp(6*-n):'bounce'===e?n<1/11?1/64-7.5625*(.5/11-n)*(.5/11-n):n<3/11?1/16-7.5625*(2/11-n)*(2/11-n):n<7/11?1/4-7.5625*(5/11-n)*(5/11-n):1-7.5625*(1-n)*(1-n):n}function q(e,n=0,t=0){return 0===n?0:1===n?1:(e=e.split('-'),'in'===e[1]?R(e[0],n,t):'out'===e[1]?1-R(e[0],1-n,t):.5>=n?R(e[0],2*n,t)/2:1-R(e[0],2*(1-n),t)/2)}function P(t,n,e=400,r=0,o='ease-in-out'){if(!Fe)return Object.keys(n).forEach((e)=>{let r=n[e];t.css(e,Array.isArray(r)?r[1]:r)}),Promise.resolve();'bounce-in'===o&&(o=Ye),'bounce-out'===o&&(o=Ge),t._data._animation&&t._data._animation.cancel();const l={},d={},c=i(),u=window.getComputedStyle(t._el);Object.keys(n).forEach((e)=>{const s=n[e],i=h(e);d[i]=Array.isArray(s)?s[0]:u.getPropertyValue(e),l[i]=Array.isArray(s)?s[1]:s,r&&t.css(e,d[i])});let p=l.height;'auto'===l.height&&(l.height=a(t.children.map((e)=>e.outerHeight))+'px');let f,y=!1;s(()=>{y||(f=t._el.animate([d,l],{duration:e,easing:o,fill:'forwards'}),f.onfinish=function(r){t._el&&Object.keys(n).forEach((e)=>t.css(e,'height'===e?p:l[e])),c.resolve(r),f.cancel()})},r);const g={then:c.promise.then.bind(c.promise),cancel(){y=!0,t._el&&Object.keys(n).forEach((e)=>t.css(e,t.css(e))),f&&f.cancel()}};return setTimeout(()=>t._data._animation=g),g}function B(e,t='fade',n=500,r=0){if(e.show(),!Fe)return Promise.resolve();if('fade'===t)return P(e,{opacity:[0,1]},n,r);if('pop'===t){const t=e.transform.replace(/scale\([0-9.]*\)/,'').replace(De,'translate($1px,$2px)');return P(e,{opacity:[0,1]},n,r),P(e,{transform:[t+' scale(0.5)',t+' scale(1)']},n,r,'bounce-in')}if('descend'===t){return P(e,{opacity:[0,1],transform:['translateY(-50%)','none']},n,r)}if(t.startsWith('draw')){const s=e.strokeLength+'px';e.css({opacity:1,"stroke-dasharray":s});const i='draw-reverse'===t?'-'+s:s;return P(e,{"stroke-dashoffset":[i,0]},n,r,'linear').then(()=>e.css('stroke-dasharray',''))}if(t.startsWith('slide')){const s={opacity:[0,1],transform:['translateY(50px)','none']};return t.includes('down')&&(s.transform[0]='translateY(-50px)'),P(e,s,n,r)}if(t.startsWith('reveal')){const s={opacity:[0,1],height:[0,'auto']};return t.includes('left')&&(s.transform=['translateX(-50%)','none']),t.includes('right')&&(s.transform=['translateX(50%)','none']),P(e,s,n,r)}}function W(e,t='fade',n=400,r=0,s=!1){if(!e._el)return Promise.resolve();if(!Fe)return e.hide(),Promise.resolve();if('none'===e.css('display'))return Promise.resolve();let i;if('fade'===t)i=P(e,{opacity:[1,0]},n,r);else if('pop'===t){const t=e.transform.replace(/scale\([0-9.]*\)/,'');P(e,{opacity:[1,0]},n,r),i=P(e,{transform:[t+' scale(1)',t+' scale(0.5)']},n,r,'bounce-out')}else if('ascend'===t){i=P(e,{opacity:[1,0],transform:['none','translateY(-50%)']},n,r)}else if(t.startsWith('draw')){const s=e.strokeLength+'px';e.css('stroke-dasharray',s);const o='draw-reverse'===t?'-'+s:s;i=P(e,{"stroke-dashoffset":[0,o]},n,r,'linear')}else if(t.startsWith('slide')){const s={opacity:0,transform:'translateY(50px)'};t.includes('up')&&(s.transform='translateY(-50px)'),i=P(e,s,n,r)}else if(t.startsWith('reveal')){const s={opacity:0,height:0};t.includes('left')&&(s.transform='translateX(-50%)'),t.includes('right')&&(s.transform='translateX(50%)'),i=P(e,s,n,r)}return i.then(()=>s?e.remove():e.hide()),i}function I(e,t){e.animationEnd(function(){e.removeClass('effects-'+t)}),e.addClass('effects-'+t)}function j(e=null){e?(e({width:Je,height:Qe}),Ue.on('resize',e)):et()}function z(){if(!nt){nt=!0;for(let e of tt)e();setTimeout(j)}}function X(e){nt?e():tt.push(e)}function F(){let e=document.cookie.split(';'),t={};for(let r,s=0,i=e.length;s<i;++s)r=e[s].split('='),r[0]=r[0].replace(/^\s+|\s+$/,''),t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]);return t}function Y(e,t,n=31536000){document.cookie=e+'='+t+';path=/;max-age='+n}function G(e,t){let n=(e||'').split('.'),r=JSON.parse(window.localStorage.getItem(rt))||{},s=r;for(let r=0;r<n.length-1;++r)null==s[n[r]]&&(s[n[r]]={}),s=s[n[r]];s[n[n.length-1]]=t,window.localStorage.setItem(rt,JSON.stringify(r))}function D(e){let t=JSON.parse(window.localStorage.getItem(rt))||{};if(!e)return t;const n=(e||'').split('.'),r=n.pop();for(let r of n){if(!(r in t))return null;t=t[r]}return t[r]}function U(){let e=document.activeElement;return e===document.body?void 0:me(e)}function Z(t){if('touches'in t){let e=t.targetTouches.length?t.targetTouches:t.changedTouches;return new Re(e[0].clientX,e[0].clientY)}return new Re(t.clientX,t.clientY)}function K(t){for(let n of t){const e=n.isIntersecting?'enterViewport':'exitViewport';setTimeout(()=>me(n.target).trigger(e))}}function J(e){if(!e._data.intersectionEvents){if(e._data.intersectionEvents=!0,!window.IntersectionObserver){let t=!1;return void At.on('scroll',()=>{let n=e.isInViewport;t&&!n?(e.trigger('exitViewport'),t=!1):n&&!t&&(e.trigger('enterViewport'),t=!0)})}ft||(ft=new IntersectionObserver(K)),ft.observe(e._el)}}function Q(t,n){let r=Z(t),s=document.elementFromPoint(r.x,r.y);return e(n._el,s,s.parentNode,s.parentNode.parentNode)}function ee(t){if(t._data._pointerEvents)return;t._data._pointerEvents=!0;let e=t.parent,n=null;e.on('pointerend',function(){n=null}),e.on('pointermove',function(r){let e=n;n=Q(r,t),null!=e&&n&&!e&&t.trigger('pointerenter',r),!n&&e&&t.trigger('pointerleave',r)})}function te(t,n){n._events['_'+t]||(n._events['_'+t]=!0,n._el.addEventListener(t,function(r){yt||n.trigger(t,r)}))}function ne(e,t,n,r){t in e._events?0>e._events[t].indexOf(n)&&e._events[t].push(n):e._events[t]=[n],t in gt?e.on(gt[t],n,r):t in mt?mt[t](e,n):e._el.addEventListener(t,n,r)}function re(e,t,n,r){t in e._events&&(e._events[t]=l(e._events[t],n)),t in gt?e.off(gt[t],n,r):t in mt||e._el.removeEventListener(t,n,r)}function se(e,t,n){const r=t.x*(n.y-e.y)+e.x*(t.y-n.y)+n.x*(e.y-t.y),s=0<r?1:0,i=Re.distance(t,e);return[e.x,e.y+'A'+i,i,0,s,1,n.x,n.y].join(',')}function ie(e,t={}){return e.isRight&&!t.round?20:24+20*(1-n(e.rad,0,Math.PI)/Se)}function oe(e,t={}){let n=e.a;const r=e.b;let s=e.c;const i=t.size||ie(e,t),o=Re.difference(n,r).normal,a=Re.difference(s,r).normal;n=Re.sum(r,o.scale(i)),s=Re.sum(r,a.scale(i));let l=t.fill?`M${r.x},${r.y}L`:'M';if(e.isRight&&!t.round){const e=Re.sum(n,a.scale(i));l+=`${n.x},${n.y}L${e.x},${e.y}L${s.x},${s.y}`}else l+=se(n,r,s);return t.fill&&(l+='Z'),l}function ae(...e){return'M'+e.map((e)=>e.x+','+e.y).join('L')}function le(e,t){const r=e.perpendicularVector.scale(6),s=e.normalVector.scale(3),n=e.midpoint;return'bar'===t?ae(n.add(r),n.add(r.inverse)):'bar2'===t?ae(n.add(s).add(r),n.add(s).add(r.inverse))+ae(n.add(s.inverse).add(r),n.add(s.inverse).add(r.inverse)):'arrow'===t?ae(n.add(s.inverse).add(r),n.add(s),n.add(s.inverse).add(r.inverse)):'arrow2'===t?ae(n.add(s.scale(-2)).add(r),n,n.add(s.scale(-2)).add(r.inverse))+ae(n.add(r),n.add(s.scale(2)),n.add(r.inverse)):void 0}function de(e,t){if(!e||!t)return'';const n=t.perpendicular,r=e.add(t.scale(9)).add(n.scale(9)),s=e.add(t.scale(9)).add(n.scale(-9));return ae(r,e,s)}function ce(t,n){let r='';return e(n,'start','both')&&(r+=de(t.p1,t.normalVector)),e(n,'end','both')&&(r+=de(t.p2,t.normalVector.inverse)),r}function pe(t,n){let r='';if(e(n,'start','both')){const e=new Be(t.c,t.start).perpendicularVector.inverse;r+=de(t.start,e)}if(e(n,'end','both')){const e=new Be(t.c,t.end).perpendicularVector;r+=de(t.end,e)}return r}function he(e,t={}){const n=e.constructor.name;if('Angle'===n)return oe(e,t);if('Segment'===n){if(e.p1.equals(e.p2))return'';let n=ae(e.p1,e.p2);return t.mark&&(n+=le(e,t.mark)),t.arrows&&(n+=ce(e,t.arrows)),n}if('Ray'===n){if(!t.box)return'';const n=N(e,t.box)[0];return n?ae(e.p1,n):''}if('Line'===n){if(!t.box)return'';const n=N(e,t.box);if(2>n.length)return'';let r=ae(n[0],n[1]);return t.mark&&(r+=le(e,t.mark)),r}if('Circle'===n)return`M ${e.c.x-e.r} ${e.c.y} a ${e.r},${e.r} 0 1 0 `+`${2*e.r} 0 a ${e.r} ${e.r} 0 1 0 ${-2*e.r} 0`;if('Arc'===n){let n='M'+se(e.start,e.c,e.end);return t.arrows&&(n+=pe(e,t.arrows)),n}return'Sector'===n?`M ${e.c.x} ${e.c.y} L ${se(e.start,e.c,e.end)} Z`:'Polyline'===n?ae(...e.points):'Polygon'===n||'Triangle'===n?ae(...e.points)+'Z':'Rectangle'===n?ae(e.polygon.points)+'Z':void 0}function ue(e={}){function t(t,n){s[t]=n,t in e||Object.defineProperty(e,t,{get:()=>s[t],set(n){s[t]=n,e.update()}})}let r=[],s={},i=1,n=xt.split('').map((e)=>'_'+e);for(let n of Object.keys(e))t(n,e[n]);return e.update=function(){for(let e of r)e(s)},e.watch=function(e,t=!1){r.push(e),t||e(s)},e.set=function(n,r){s[n]===r||(t(n,r),e.update())},e.assign=function(n){for(let e of Object.keys(n))t(e,n[e]);e.update()},e.name=function(){return n.length||(i+=1,n=xt.split('').map((e)=>p('_',i)+e)),n.pop()},e}function fe(t,e=!1){let n=t.replace(/×/g,'*');e||(n=n.replace(/"/g,'"').replace(/\$\{([^\}]+)\}/g,(e,t)=>`" + (${t}) + "`),n='"'+n+'"');try{return new Function('_vars',`try {
      with(_vars) { return ${n} }
    } catch(_error) {
      if (!(_error instanceof ReferenceError)) console.warn(_error);
      return "";
    }`)}catch(n){return console.warn('WHILE PARSING: ',t,'\n',n),function(){return''}}}function ye(e,t,n,r=n){if(0>n[t].indexOf('${'))return;let s=fe(n[t]);e.watch(()=>{r[t]=s(e)}),r[t]=s(e)}function ge(e,t,n=!0){for(let r of e.attributes){let n=r.name.match(/^x-/)?document.createAttribute(r.name.replace(/^x-/,'')):r;ye(t,'value',r,n),n!==r&&e._el.setAttributeNode(n)}if(e.children.length)for(let r of e.childNodes)'TEXT'===r.tagName?ye(t,'text',r):n&&ge(r,t);else e.html.trim()&&ye(t,'html',e)}function me(t,n=null){if(!t)return null;const r=n?n._el:document.documentElement,s='string'==typeof t?r.querySelector(t):t;if(!s)return null;if(s.$el)return s.$el;if(e(s,window,document.body,document.documentElement))return new vt(s);const i=(s.tagName||'').toLowerCase();return 0<=Lt.indexOf(i)?new wt(s):0<=Ct.indexOf(i)?new bt(s):'canvas'===i?new kt(s):new _t(s)}function $(e,t=null){const n=t?t._el:document.documentElement;let r=n.querySelectorAll(e||null);return Array.from(r,(e)=>me(e))}function xe(e,n={},r=null){const s=0>Lt.indexOf(e)?document.createElement(e):document.createElementNS('http://www.w3.org/2000/svg',e);for(let t of Object.keys(n))'id'===t?s.id=n.id:'html'===t?s.innerHTML=n.html:'text'===t?s.textContent=n.text:'path'===t?s.setAttribute('d',he(n.path)):s.setAttribute(t,n[t]);let t=me(s);return r&&r.append(t),t}function _e(e){return xe('div',{html:e}).children}function ve(e){let t=[];for(let n in e){let r=e[n];if(n=encodeURIComponent(n),null==r)return void t.push(n);r=Array.isArray(r)?r.join(','):''+r,r=r.replace(/(\r)?\n/g,'\r\n'),r=encodeURIComponent(r),r=r.replace(/%20/g,'+'),t.push(n+'='+r)}return t.join('&')}function be(e,t,n=null,r={async:!0,cache:!0}){let s=new XMLHttpRequest,o=i(),a='';return s.onreadystatechange=function(){if(!(3>=s.readyState)){let e=s.status;200<=e&&300>e||304===e?o.resolve(s.responseText):o.reject(s)}},'GET'===e?(t+=0<=t.indexOf('?')?'&xhr=1':'?xhr=1',!r.cache&&(t+='_cachebust='+Date.now()),n&&(t+=ve(n)+'&'),s.open(e,t,r.async,r.user,r.password)):'POST'==e&&(s.open(e,t,r.async,r.user,r.password),s.setRequestHeader('Content-Type','application/x-www-form-urlencoded'),s.setRequestHeader('X-CSRF-Token',window.csrfToken||''),a=u(n)?'?'+n:Object.keys(n).map((e)=>encodeURIComponent(e)+'='+encodeURIComponent(n[e])).join('&')),s.setRequestHeader('x-requested-with','XMLHttpRequest'),s.send(a),o.promise}function we(e,t=null){return be('GET',e,t)}function ke(){if(!1!==navigator.onLine){for(let e of Object.keys(St))Le(e,{data:JSON.stringify(St[e])});St={}}}function Le(e,t=null){be('POST',e,t)}var Ce=Math.floor,Ee=Math.sin,Te=Math.cos,Ae=Math.sqrt,Se=Math.PI,Ve=Math.abs,Oe=Math.min,Me=Math.max;const Ne=1e-6,He={pi:Se,e:Math.E};class Re{constructor(e=0,t=0){this.x=e,this.y=t}get normal(){return this.scale(1/this.length)}get length(){return Ae(w(this.x)+w(this.y))}get inverse(){return new Re(-this.x,-this.y)}get flip(){return new Re(this.y,this.x)}get perpendicular(){return new Re(-this.y,this.x)}get array(){return[this.x,this.y]}distanceFromLine(e){return Re.distance(this,e.project(this))}clamp(e,t,n,r){return new Re(v(this.x,e,t),v(this.y,n,r))}transform(e){if(!e)return this;let t=e[0][0]*this.x+e[0][1]*this.y+e[0][2],n=e[1][0]*this.x+e[1][1]*this.y+e[1][2];return new Re(t,n)}rotate(e,t=qe){let n=this.x-t.x,r=this.y-t.y,s=Te(e),i=Ee(e),o=n*s-r*i+t.x,a=n*i+r*s+t.y;return new Re(o,a)}reflect(e){let t=e.p2.x-e.p1.x,n=e.p2.y-e.p1.y,r=this.x-e.p1.x,s=this.y-e.p1.y,i=(t*s-n*r)/(t*t+n*n),o=this.x+2*i*n,a=this.y-2*i*t;return new Re(o,a)}scale(e,t=e){return new Re(this.x*e,this.y*t)}shift(e,t=e){return new Re(this.x+e,this.y+t)}translate(e){return this.shift(e.x,e.y)}changeCoordinates(e,t){const n=t.xMin+(this.x-e.xMin)/e.dx*t.dx,r=t.yMin+(this.y-e.yMin)/e.dy*t.dy;return new Re(n,r)}add(e){return Re.sum(this,e)}subtract(e){return Re.difference(this,e)}equals(e){return Re.equals(this,e)}round(e=1){return new Re(g(this.x,e),g(this.y,e))}floor(){return new Re(Ce(this.x),Ce(this.y))}mod(e,t=e){return new Re(this.x%e,this.y%t)}static average(...e){let t=L(e.map((e)=>e.x))/e.length,n=L(e.map((e)=>e.y))/e.length;return new Re(t,n)}static dot(e,t){return e.x*t.x+e.y*t.y}static sum(e,t){return new Re(e.x+t.x,e.y+t.y)}static difference(e,t){return new Re(e.x-t.x,e.y-t.y)}static distance(e,t){return Ae(w(e.x-t.x)+w(e.y-t.y))}static manhattan(e,t){return Ve(e.x-t.x)+Ve(e.y-t.y)}static interpolate(e,n,r=.5){return new Re(e.x+r*(n.x-e.x),e.y+r*(n.y-e.y))}static interpolateList(e,r=.5){const t=e.length-1,n=Ce(v(r,0,1)*t);return Re.interpolate(e[n],e[n+1],t*r-n)}static equals(e,t){return f(e.x,t.x)&&f(e.y,t.y)}static fromPolar(e,t=1){return new Re(t*Te(e),t*Ee(e))}}const qe=new Re(0,0),Pe=2*Se;class Be{constructor(e,t){this.p1=e,this.p2=t}get length(){return Re.distance(this.p1,this.p2)}get midpoint(){return Re.average(this.p1,this.p2)}get slope(){return(this.p2.y-this.p1.y)/(this.p2.x-this.p1.x)}get intercept(){return this.p1.y+this.slope*this.p1.x}get angle(){return T(this.p2,this.p1)}get normalVector(){let e=this.length,t=(this.p2.x-this.p1.x)/e,n=(this.p2.y-this.p1.y)/e;return new Re(t,n)}get perpendicularVector(){return new Re(this.p2.y-this.p1.y,this.p1.x-this.p2.x).normal}get perpBisector(){return this.perpendicular(this.midpoint)}parallel(e){const t=Re.sum(e,Re.difference(this.p2,this.p1));return new Be(e,t)}perpendicular(e){return new Be(e,Re.sum(e,this.perpendicularVector))}contains(e){const t=e.x*(this.p1.y-this.p2.y)+this.p1.x*(this.p2.y-e.y)+this.p2.x*(e.y-this.p1.y);return f(t,0)}at(e){return Re.interpolate(this.p1,this.p2,e)}project(e){const t=Re.difference(this.p2,this.p1),n=Re.difference(e,this.p1),r=t.scale(Re.dot(t,n)/w(this.length));return Re.sum(this.p1,r)}transform(e){return e?new this.constructor(this.p1.transform(e),this.p2.transform(e)):this}rotate(e,t=qe){return new this.constructor(this.p1.rotate(e,t),this.p2.rotate(e,t))}reflect(e){return new this.constructor(this.p1.reflect(e),this.p2.reflect(e))}scale(e,t=e){return new this.constructor(this.p1.scale(e,t),this.p2.scale(e,t))}shift(e,t=e){return new this.constructor(this.p1.shift(e,t),this.p2.shift(e,t))}translate(e){return new this.constructor(this.p1.translate(e),this.p2.translate(e))}equals(e){return this.constructor.equals(this,e)}static equals(e,t){return e.contains(t.p1)&&e.contains(t.p2)}}class We extends Be{}class Ie extends Be{contains(){}project(e){const t=Re.difference(this.p2,this.p1),n=Re.difference(e,this.p1),r=v(Re.dot(t,n)/w(this.length),0,1);return Re.sum(this.p1,t.scale(r))}contract(e){return new Ie(this.at(e),this.at(1-e))}static equals(e,t,n=!1){return Re.equals(e.p1,t.p1)&&Re.equals(e.p2,t.p2)||!n&&Re.equals(e.p1,t.p2)&&Re.equals(e.p2,t.p1)}static intersect(e,t){const n=new Ie(e.p1,e.p2),r=new Ie(t.p1,t.p2);return N(n,r)[0]||null}}class $e{constructor(e=qe,t=1){this.c=e,this.r=t}get circumference(){return 2*Se*this.r}get area(){return Se*w(this.r)}get arc(){let e=this.c.shift(this.r,0);return new je(this.c,e,Pe)}transform(e){return e?new $e(this.c.transform(e),this.r*(e[0][0]+e[1][1])/2):this}rotate(e,t=qe){return new $e(this.c.rotate(e,t),this.r)}reflect(e){return new $e(this.c.reflect(e),this.r)}scale(e,t=e){return new $e(this.c.scale(e,t),this.r*(e+t)/2)}shift(e,t=e){return new $e(this.c.shift(e,t),this.r)}translate(e){return new $e(this.c.translate(e),this.r)}contains(e){return Re.distance(e,this.c)<=this.r}equals(e){return e instanceof $e&&f(this.r,e.r)&&this.c.equals(e.c)}project(e){const t=Re.difference(e,this.c).normal.scale(this.r);return Re.sum(this.c,t)}at(e){const t=2*Se*e;return this.c.shift(this.r*Te(t),this.r*Ee(t))}}class je{constructor(e,t,n){this.c=e,this.start=t,this.angle=n}get radius(){return Re.distance(this.c,this.start)}get end(){return this.start.rotate(this.angle,this.c)}transform(e){return e?new je(this.c.transform(e),this.start.transform(e),this.angle):this}get startAngle(){return T(this.start,this.c)}project(e){let t=this.startAngle,n=t+this.angle,r=T(e,this.c);return n>Pe&&r<n-Pe&&(r+=Pe),r=v(r,t,n),this.c.shift(this.radius,0).rotate(r,this.c)}at(e){return this.start.rotate(this.angle*e,this.c)}contract(e){return new je(this.c,this.at(e/2),this.angle*(1-e))}}class ze{constructor(...e){this.points=e}get circumference(){let e=0;for(let t=1;t<this.points.length;++t)e+=Re.distance(this.points[t-1],this.points[t]);return e}get signedArea(){let e=this.points,t=e.length,n=e[t-1].x*e[0].y-e[0].x*e[t-1].y;for(let r=1;r<t;++r)n+=e[r-1].x*e[r].y-e[r].x*e[r-1].y;return n/2}get area(){return Ve(this.signedArea)}get centroid(){let e=this.points,t=e.length,n=0;for(let r=0;r<t;++r)n+=e[r].x;let r=0;for(let n=0;n<t;++n)r+=e[n].y;return new Re(n/t,r/t)}get edges(){let e=this.points,t=e.length,n=[];for(let r=0;r<t;++r)n.push(new Ie(e[r],e[(r+1)%t]));return n}transform(e){return e?new this.constructor(...this.points.map((t)=>t.transform(e))):this}rotate(e,t=qe){const n=this.points.map((n)=>n.rotate(e,t));return new this.constructor(...n)}reflect(e){const t=this.points.map((t)=>t.reflect(e));return new this.constructor(...t)}scale(e,t=e){const n=this.points.map((n)=>n.scale(e,t));return new this.constructor(...n)}shift(e,t=e){const n=this.points.map((n)=>n.shift(e,t));return new this.constructor(...n)}translate(e){return this.shift(e.x,e.y)}contains(e){let t=this.points.length,n=!1;for(let r=0;r<t;++r){const s=this.points[r],i=this.points[(r+1)%t],o=s.y>e.y!=i.y>e.y,a=e.x<(i.x-s.x)*(e.y-s.y)/(i.y-s.y)+s.x;o&&a&&(n=!n)}return n}equals(){}project(){}at(e){return Re.interpolateList([...this.points,this.points[0]],e)}get oriented(){if(0<=this.signedArea)return this;const e=[...this.points].reverse();return new ze(...e)}intersect(e){const t=[E(this.oriented.points),E(e.oriented.points)],n=this.points.length+e.points.length,r=[];let s=0,i=t[s].find((t)=>e.contains(t.val));if(!i)return null;for(;i.val!==r[0]&&r.length<n;){r.push(i.val);const e=new Ie(i.val,i.next.val);i=i.next;for(let n of t[1-s]){const t=new Ie(n.val,n.next.val),r=N(e,t)[0];if(r){s=1-s,i={val:r,next:n.next};break}}}return new ze(...r)}static collision(e,t){for(let n of e.edges)for(let e of t.edges)if(Ie.intersect(n,e))return!0;for(let n of e.points)if(t.contains(n))return!0;for(let n of t.points)if(e.contains(n))return!0;return!1}static regular(e,t=1){const n=k((n)=>Re.fromPolar(2*Se*n/e,t),e);return new ze(...n)}static interpolate(e,n,r){const t=e.points.map((e,t)=>Re.interpolate(e,n.points[t],r));return new ze(...t)}}class Xe{constructor(e,t=1,n=t){this.p=e,this.w=t,this.h=n}get center(){return new Re(this.p.x+this.w/2,this.p.y+this.h/2)}get circumference(){return 2*Ve(this.w)+2*Ve(this.h)}get area(){return Ve(this.w*this.h)}get edges(){return this.polygon.edges}get polygon(){let e=new Re(this.p.x+this.w,this.p.y),t=new Re(this.p.x+this.w,this.p.y+this.h),n=new Re(this.p.x,this.p.y+this.h);return new ze(this.p,e,t,n)}transform(e){return e?this.polygon.transform(e):this}rotate(e,t=qe){return this.polygon.rotate(e,t)}reflect(e){return this.polygon.reflect(e)}scale(e,t=e){return new Xe(this.p.scale(e,t),this.w*e,this.h*t)}shift(e,t=e){return new Xe(this.p.shift(e,t),this.w,this.h)}translate(e){return new Xe(this.p.translate(e),this.w,this.h)}contains(){}equals(){}project(e){let t={x:this.p.x+this.w,y:this.p.y+this.h},n={x:this.p.x+this.w/2,y:this.p.y+this.h/2},r=(n.y-e.y)/(n.x-e.x);if(e.x<=n.x){let n=r*(this.p.x-e.x)+e.y;if(this.p.y<n&&n<t.y)return new Re(this.p.x,n)}if(e.x>=n.x){let n=r*(t.x-e.x)+e.y;if(this.p.y<n&&n<t.y)return new Re(t.x,n)}if(e.y<=n.y){let n=(this.p.y-e.y)/r+e.x;if(this.p.x<n&&n<t.x)return new Re(n,this.p.y)}if(e.y>=n.y){let n=(t.y-e.y)/r+e.x;if(this.p.x<n&&n<t.x)return new Re(n,t.y)}}at(){}}let Fe=!1;setTimeout(function(){Fe=!0});const Ye='cubic-bezier(0.175, 0.885, 0.32, 1.275)',Ge='cubic-bezier(0.68, -0.275, 0.825, 0.115)',De=/matrix\([0-9.\-\s]+,[0-9.\-\s]+,[0-9.\-\s]+,[0-9.\-\s]+,([0-9.\-\s]+),([0-9.\-\s]+)\)/,Ue=new class{constructor({split:e=' ',lowercase:t=!1}={}){this._options={split:e,lowercase:t},this._events={}}on(t,n){for(let r of d(t,this._options))r in this._events||(this._events[r]=[]),this._events[r].push(n)}one(e,t){function n(...s){r.off(e,n),t(...s)}let r=this;this.on(e,n)}off(t,e){for(let n of d(t,this._options))n in this._events&&(this._events[n]=this._events[n].filter((t)=>t!==e))}trigger(t,...e){for(let n of d(t,this._options))n in this._events&&this._events[n].forEach(function(t){t.apply(this,e)})}},Ze=window.navigator.userAgent,Ke=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i;let Je=window.innerWidth,Qe=window.innerHeight;window.addEventListener('resize',()=>{let e=window.innerWidth,t=window.innerHeight;Je===e&&Qe===t||(Je=e,Qe=t,Ue.trigger('resize',{width:Je,height:Qe}),At.trigger('scroll',{top:At.scrollTop}))});const et=o(function(){Je=window.innerWidth,Qe=window.innerHeight,Ue.trigger('resize',{width:Je,height:Qe})});let tt=[],nt=!1;window.onload=z,document.addEventListener('DOMContentLoaded',z);const rt='_M',st={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capslock:20,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46},it=/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/,ot=/\bAppleWebKit\/(\d+)\b/,at=/\bEdge\/12\.(\d+)\b/,lt=it.test(navigator.userAgent)||10547>(navigator.userAgent.match(at)||[])[1]||537>(navigator.userAgent.match(ot)||[])[1],dt={};let ct=!('hidden'in document)&&'webkitHidden'in document,pt=ct?'webkitHidden':'hidden',ht=ct?'webkitvisibilitychange':'visibilitychange';document.addEventListener(ht,function(){Ue.trigger(document[pt]?'focus':'blur')});const ut={isMobile:Ke.test(navigator.userAgent.toLowerCase()),isRetina:1<(window.devicePixelRatio||1),isTouch:'ontouchstart'in window||window.DocumentTouch&&document instanceof window.DocumentTouch,isChrome:window.chrome,isIE:0<=Ze.indexOf('MSIE')||0<=Ze.indexOf('Trident'),isFirefox:0<=navigator.userAgent.search('Firefox'),redraw:function(){document.body.offsetHeight},ready:X,resize:j,cssTimeToNumber:function(e){let t=/^([\-\+]?[0-9]+(\.[0-9]+)?)(m?s)$/,n=t.exec(e.trim());return null===n?null:+n[1]*('s'===n[3]?1e3:1)},addCSS:function(e){let t=document.createElement('style');t.type='text/css',t.innerHTML=e,document.head.appendChild(t)},addCSSRule:function(e,t){let n=document.styleSheets[document.styleSheets.length-1],r=n.cssRules.length-1;n.insertRule?n.insertRule(e+'{'+t+'}',r):n.addRule(e,t,r)},replaceSvgImports:function(){if(lt){let e=Array.from(document.querySelectorAll('svg > use'));e.forEach(function(e){let t=e.getAttribute('xlink:href'),n=t.split('#'),r=n[0],s=n[1];if(!r.length)return;let i=e.parentNode;i.removeChild(e),r in dt||(dt[r]=we(r));let o=dt[r];o.then(function(e){let t=document.implementation.createHTMLDocument('');t.documentElement.innerHTML=e;let n=t.getElementById(s),r=n.cloneNode(!0),o=document.createDocumentFragment();for(;r.childNodes.length;)o.appendChild(r.firstChild);i.appendChild(o)})})}},on:Ue.on.bind(Ue),off:Ue.off.bind(Ue),trigger:Ue.trigger.bind(Ue),get width(){return Je},get height(){return Qe},get hash(){return window.location.hash.slice(1)},set hash(e){let t=document.body.scrollTop;window.location.hash=e,document.body.scrollTop=t},get cookies(){return F()},getCookie:function(e){let t=document.cookie.match(new RegExp(`(^|;) ?${e}=([^;]*)(;|$)`));return t?t[2]:null},setCookie:Y,deleteCookie:function(e){Y(e,'',-1)},setStorage:G,getStorage:D,deleteStorage:function(e){e?G(e,null):window.localStorage.setItem(rt,'')},get activeInput(){return U()},keyCodes:st,onKey:function(t,n){t=c(t).map((e)=>st[e]||e),document.addEventListener('keydown',function(r){let e=U();e&&e.is('input, textarea, [contenteditable]')||0<=t.indexOf(r.keyCode)&&n(r)})}};let ft,yt=!1;document.addEventListener('touchstart',()=>yt=!0);const gt={change:'propertychange keyup input paste',scrollwheel:'DOMMouseScroll mousewheel',pointerdown:'mousedown touchstart',pointermove:'mousemove touchmove',pointerup:'mouseup touchend',pointercancel:'touchcancel',pointerstop:'mouseup touchend touchcancel'},mt={scroll:function(e){function t(){let n=e.scrollTop;return n==o?void(i=!1):void(o=n,e.trigger('scroll',{top:o}),window.requestAnimationFrame(t))}function n(){i||window.requestAnimationFrame(t),i=!0}function r(){window.addEventListener('touchmove',n),window.addEventListener('touchend',s)}function s(){window.removeEventListener('touchmove',n),window.removeEventListener('touchend',s)}if(e._data._scrollEvents)return;e._data._scrollEvents=!0;let i=!1,o=null,a=e instanceof vt?window:e._el;a.addEventListener('scroll',n),e._el.addEventListener('touchstart',function(t){t.handled||r()})},hover:function(e,t){let n=null,r=!1,i=!1;e.on('mouseover',()=>{t.preventMouseover&&t.preventMouseover()||(clearTimeout(n),n=s(()=>{r||(t.enter(),i=!0,r=!0)},t.delay))}),e.on('mouseout',()=>{i&&(clearTimeout(n),n=s(()=>{r&&(t.exit&&t.exit(),r=!1)},t.delay))});const o=t.$clickTarget||e;o.on('click',()=>{r&&!i?(t.exit&&t.exit(),r=!1):!r&&(t.enter(),i=!1,r=!0)}),e.on('clickOutside',()=>{r&&(t.exit&&t.exit(),r=!1)})},click:function(t){if(t._events._click)return;if(t._events._click=!0,!navigator.userAgent.match(/iP(ad|hone|od)/g))return void t._el.addEventListener('click',function(n){t.trigger('click',n)});let n;t._el.addEventListener('touchstart',function(t){1==t.touches.length&&(n=Z(t))}),t._el.addEventListener('touchend',function(r){if(n){let e=Z(r);5>Ve(e.x-n.x)&&5>Ve(e.y-n.y)&&t.trigger('click',r),n=null}}),t._el.addEventListener('touchcancel',function(){n=null})},clickOutside:function(t){t._events._clickOutside||(t._events._clickOutside=!0,At.on('click',function(n){me(n.target).hasParent(t)||t.trigger('clickOutside')}))},mousedown:te.bind(null,'mousedown'),mousemove:te.bind(null,'mousemove'),mouseup:te.bind(null,'mouseup'),pointerenter:ee,pointerleave:ee,enterViewport:J,exitViewport:J},xt='zyxwvutsrqponmlkjihgfedcba';class _t{constructor(e){this._el=e,this._data=e?e._m_data||(e._m_data={}):{},this._events=e?e._m_events||(e._m_events={}):{}}get id(){return this._el.id}get data(){return this._el.dataset}get tagName(){return this._el instanceof Text?'TEXT':this._el.tagName.toUpperCase()}getModel(){return this.parent?this.parent.model||this.parent.getModel()||ue():null}bindObservable(e,t=!0){return ge(this,e,t),e}addClass(e){let t=c(e);if(this._el.classList)for(let e of t)this._el.classList.add(e);else this._el.className+=' '+e}removeClass(e){let t=c(e);if(this._el.classList)for(let e of t)this._el.classList.remove(e);else{let e=new RegExp('(^|\\s)'+t.join('|')+'(\\s|$)','gi');this._el.className=this._el.className.toString().replace(e,' ')}}hasClass(e){let t=this._el.className;return 0<=(' '+t+' ').indexOf(' '+e.trim()+' ')}toggleClass(e){this.hasClass(e)?this.removeClass(e):this.addClass(e)}setClass(e,t){t?this.addClass(e):this.removeClass(e)}attr(e){return this._el.getAttribute(e)||''}hasAttr(e){return this._el.hasAttribute(e)}setAttr(e,t){this._el.setAttribute(e,t)}removeAttr(e){this._el.removeAttribute(e)}get attributes(){return Array.from(this._el.attributes||[])}get value(){return this._el.value}set value(e){this._el.value=e}get html(){return this._el.innerHTML||''}set html(e){this._el.innerHTML=e}get text(){return this._el.textContent||''}set text(e){this._el.textContent=e}blur(){this._el.blur()}focus(){this._el.focus()}get bounds(){return this._el.getBoundingClientRect()}get topLeftPosition(){const e=this.bounds;return new Re(e.left,e.top)}get offsetTop(){return this._el.offsetTop}get offsetLeft(){return this._el.offsetLeft}get offsetParent(){let e=this._el.offsetParent;return e?me(e):null}get width(){return this._el.offsetWidth}get height(){return this._el.offsetHeight}get innerWidth(){const e=parseFloat(this.css('padding-left')),t=parseFloat(this.css('padding-right'));return this._el.clientWidth-e-t}get innerHeight(){const e=parseFloat(this.css('padding-bottom')),t=parseFloat(this.css('padding-top'));return this._el.clientHeight-e-t}get outerWidth(){const e=parseFloat(this.css('margin-left')),t=parseFloat(this.css('margin-right'));return this.width+e+t}get outerHeight(){const e=parseFloat(this.css('margin-bottom')),t=parseFloat(this.css('margin-top'));return this.height+e+t}get positionTop(){let e=this._el,t=0;do t+=e.offsetTop;while(e=e.offsetParent);return t}get positionLeft(){let e=this._el,t=0;do t+=e.offsetLeft;while(e=e.offsetParent);return t}get boxCenter(){let e=this.bounds;return new Re(e.left+e.width/2,e.top+e.height/2)}offset(e){if(e._el===this._el.offsetParent){let t=this.offsetTop+e._el.clientTop,n=this.offsetLeft+e._el.clientLeft,r=t+this.height,s=n+this.width;return{top:t,left:n,bottom:r,right:s}}else{let t=e._el.getBoundingClientRect(),n=this._el.getBoundingClientRect();return{top:n.top-t.top,left:n.left-t.left,bottom:n.bottom-t.top,right:n.right-t.left}}}get isInViewport(){if(0===this.height)return!1;const e=this.bounds;return y(e.top,-e.height,ut.height)}get scrollWidth(){return this._el.scrollWidth}get scrollHeight(){return this._el.scrollHeight}get scrollTop(){return this._el.scrollTop}get scrollLeft(){return this._el.scrollLeft}set scrollTop(e){this._el.scrollTop=e,this.trigger('scroll',{top:e,left:this.scrollLeft})}set scrollLeft(e){this._el.scrollLeft=e,this.trigger('scroll',{top:this.scrollTop,left:e})}fixOverflowScroll(){this._data._fixOverflowScroll||(this._data._fixOverflowScroll=!0,this._el.addEventListener('touchstart',()=>{const e=this.scrollTop,t=this.scrollHeight-this.height;0>=e&&(this.scrollTop=1),e>=t&&(this.scrollTop=t-1)}))}scrollTo(e,t=1e3,n='cubic'){0>e&&(e=0);const r=this.scrollTop,s=e-r;this._data._scrollAnimation&&this._data._scrollAnimation.cancel(),this._data._scrollAnimation=H((e)=>{const t=r+s*q(n,e);this.scrollTop=t,this.trigger('scroll',{top:t})},t)}scrollBy(e,t=1e3,n='cubic'){e&&this.scrollTo(this.scrollTop+e,t,n)}css(e,t){if(!(t===void 0))this._el.style[h(e)]=t;else if('string'==typeof e)return window.getComputedStyle(this._el).getPropertyValue(e);else{const t=Object.keys(e);for(let n of t)this._el.style[h(n)]=e[n]}}get transition(){return this.css('transform')}set transition(e){this._el.style.transition=e}get transform(){return this.css('transform').replace('none','')}set transform(e){this._el.style.transform=e}get transformMatrix(){let e=this.css('transform');if(!e||'none'===e)return[[1,0,0],[0,1,0]];let t=e.match(/matrix\(([0-9\,\.\s\-]*)\)/);if(!t[1])return[[1,0,0],[0,1,0]];let n=t[1].split(',');return[[+n[0],+n[2],+n[4]],[+n[1],+n[3],+n[5]]]}get scale(){let e=this.transformMatrix;return[e[0][0],e[1][1]]}translate(e,t){e=g(+e||0,.1),t=g(+t||0,.1),this.transform=`translate(${e}px,${t}px)`}translateX(e){this.transform=`translate(${g(+e||0,.1)}px,0)`}translateY(e){this.transform=`translate(0,${g(+e||0,.1)}px)`}show(){this.hasAttr('hidden')&&this.removeAttr('hidden'),'visibility'===this.data.display?this._el.style.visibility='visible':this._el.style.display=this.data.display||'block'}hide(){'visibility'===this.data.display?this._el.style.visibility='hidden':this._el.style.display='none'}transitionEnd(e){this.one('transitionend',e)}animationEnd(e){this.one('animationend',e)}is(e){return this._el.matches?this._el.matches(e):-1<[].indexOf.call(document.querySelectorAll(e),this._el)}index(){let e=0,t=this._el;for(;null!==(t=t.previousSibling);)++e;return e}prepend(e){let t=this._el.childNodes;if('string'==typeof e){let t=_e(e);for(let e=t.length-1;0<=e;--e)this._el.insertBefore(t[e],this._el.childNodes[0])}else t.length?this._el.insertBefore(e._el,t[0]):this._el.appendChild(e._el)}append(e){if('string'==typeof e){let t=_e(e);for(let e of t)this._el.appendChild(e._el)}else this._el.appendChild(e._el)}insertBefore(e){let t=this.parent;if('string'==typeof e){let n=_e(e);for(let e=n.length-1;0<=e;--e)t._el.insertBefore(n[e]._el,this._el)}else t._el.insertBefore(e._el,this._el)}insertAfter(e){let t=this.parent;if('string'==typeof e){let n=_e(e);for(let e of n)t._el.insertAfter(this._el,e._el)}else{let n=this._el.nextSibling;n?t._el.insertBefore(e._el,n):t._el.appendChild(e._el)}}wrap(e){return'string'==typeof e&&(e=xe(e)),this.insertBefore(e),this.detach(),e.append(this),e}moveTo(e,t=!1){t?e.prepend(this):e.append(this)}get next(){let e=this._el.nextSibling;return e?me(e):null}get prev(){let e=this._el.previousSibling;return e?me(e):null}$(e){return me(e,this)}$$(e){return $(e,this)}get parent(){let e=this._el.parentElement;return e?me(e):null}get siblings(){let e=[],t=this._el.parentNode.firstChild;do e.push(me(t));while(t=t.nextSibling);return e}parents(e){let t=[],n=this.parent;for(;n;)(!e||n.is(e))&&t.push(n),n=n.parent;return t}hasParent(...t){for(let n=t.map((e)=>e._el),r=this._el.parentNode;r;){if(e(r,...n))return!0;r=r.parentNode}return!1}get children(){let e=this._el.children||[];return Array.from(e,(e)=>me(e))}get childNodes(){let e=this._el.childNodes||[];return Array.from(e,(e)=>me(e))}detach(){this._el&&this._el.parentNode&&this._el.parentNode.removeChild(this._el)}remove(){this.detach(),this._el=null}removeChildren(){for(;this._el.firstChild;)this._el.removeChild(this._el.firstChild)}replaceWith(...e){for(let t of e)this.insertBefore(t);this.remove()}on(t,n=null,r=!1){if(n)for(let s of c(t))ne(this,s,n,r);else for(let n of Object.keys(t))ne(this,n,t[n])}one(e,t,n=!1){const r=()=>{this.off(e,r,n),t(e,t,n)};this.on(e,r,n)}off(t,n,r=!1){for(let s of c(t))re(this,s,n,r)}trigger(t,n={}){for(let r of c(t)){if(!this._events[r])return;for(let e of this._events[r])e.call(this,n)}}onKeyDown(t,n){t=c(t).map((e)=>ut.keyCodes[e]||e),this._el.addEventListener('keydown',function(r){0<=t.indexOf(r.keyCode)&&n(r)})}animate(e,t,n,r){return P(this,e,t,n,r)}enter(...e){return B(this,...e)}exit(...e){return W(this,...e)}effect(e){I(this,e)}fadeIn(e=400){return B(this,'fade',e)}fadeOut(e=400){return W(this,'fade',e)}get cursor(){let e=window.getSelection();if(!e.rangeCount)return[0,0];let t=window.getSelection().getRangeAt(0),n=t.cloneRange();n.selectNodeContents(this._el),n.setEnd(t.startContainer,t.startOffset);let r=n.toString().length;n.setEnd(t.endContainer,t.endOffset);let s=n.toString().length;return[r,s]}}class vt extends _t{get width(){return window.innerWidth}get height(){return window.innerHeight}get innerWidth(){return window.innerWidth}get innerHeight(){return window.innerHeight}get outerWidth(){return window.outerWidth}get outerHeight(){return window.outerHeight}get scrollWidth(){return document.body.scrollWidth}get scrollHeight(){return document.body.scrollHeight}get scrollTop(){return window.pageYOffset}get scrollLeft(){return window.pageXOffset}set scrollTop(e){document.body.scrollTop=document.documentElement.scrollTop=e,this.trigger('scroll',{top:e,left:this.scrollLeft})}set scrollLeft(e){document.body.scrollLeft=document.documentElement.scrollLeft=e,this.trigger('scroll',{top:this.scrollTop,left:e})}}class bt extends _t{get action(){return this._el.action}get checked(){return this._el.checked}get formData(){const e={};for(let t of Array.from(this._el.elements)){const n=t.name||t.id;n&&(e[n]=t.value)}return e}change(e){let t='';this.on('change',()=>{this.value===t||(t=this.value.trim(),e(t))})}validate(e){this.change((t)=>{this.setValidity(e(t))})}setValidity(e){this._el.setCustomValidity(e||'')}get isValid(){return this._el.checkValidity()}}class wt extends _t{hasClass(e){let t=this._el.className.baseVal;return 0<=(' '+t+' ').indexOf(' '+e.trim()+' ')}get $ownerSVG(){return me(this._el.ownerSVGElement)||null}get width(){return this.bounds.width}get height(){return this.bounds.height}get viewBox(){return this._el.viewBox.baseVal||{}}get svgWidth(){return this.viewBox.width||this.width}get svgHeight(){return this.viewBox.height||this.height}get positionLeft(){if(this.$ownerSVG){const e=this._el.getBBox().x+this._el.getCTM().e;return this.$ownerSVG.positionLeft+e}return parseInt(this.css('margin-left'))+this.parent.positionLeft}get positionTop(){if(this.$ownerSVG){const e=this._el.getBBox().y+this._el.getCTM().f;return this.$ownerSVG.positionTop+e}return parseInt(this.css('margin-top'))+this.parent.positionTop}get inverseTransformMatrix(){const e=this._el.getScreenCTM().inverse(),t=[[e.a,e.c,e.e],[e.b,e.d,e.f]];if(ut.isFirefox){let e=this.transformMatrix;t[0][2]-=e[0][2],t[1][2]-=e[1][2]}return t}get strokeLength(){if('getTotalLength'in this._el)return this._el.getTotalLength();if(this._el instanceof SVGLineElement)return Ae(r(this._el.x2.baseVal.value-this._el.x1.baseVal.value)+r(this._el.y2.baseVal.value-this._el.y1.baseVal.value));else{let e=this.bounds;return 2*e.height+2*e.width}}getPointAt(e){return this._el.getPointAtLength(e*this.strokeLength)}getPointAtLength(e){return this._el.getPointAtLength(e)}get points(){let e=this.attr('d');return e?e.replace(/[MZ]/g,'').split(/[LA]/).map((e)=>{let t=e.split(',');return{x:+t[t.length-2],y:+t[t.length-1]}}):[]}set points(e){let t=e.length?'M'+e.map((e)=>e.x+','+e.y).join('L'):'';this.setAttr('d',t)}addPoint(e){let t=this.attr('d')+' L '+e.x+','+e.y;this.setAttr('d',t)}get center(){return new Re(+this.attr('cx'),+this.attr('cy'))}setCenter(e){this.setAttr('cx',e.x),this.setAttr('cy',e.y)}setLine(e,t){this.setAttr('x1',e.x),this.setAttr('y1',e.y),this.setAttr('x2',t.x),this.setAttr('y2',t.y)}draw(e,n={}){const r={mark:this.attr('mark'),arrows:this.attr('arrows'),size:+this.attr('size')||null,fill:this.hasClass('fill'),round:this.hasAttr('round')};this.setAttr('d',he(e,t(n,r)))}}class kt extends _t{getContext(e='2d',t={}){return this._el.getContext(e,t)}get pngImage(){return this._el.toDataURL('image/png')}}const Lt=['path','rect','circle','ellipse','polygon','polyline','g','defs','marker','line','text','pattern','mask','svg'],Ct=['form','input','select'],Et=new vt(window),Tt=new vt(window.document.documentElement),At=new vt(document.body);let St={};const Vt=o(ke,5e3);window.addEventListener('online',Vt),window.onbeforeunload=function(){ke()},'scrollRestoration'in history&&(history.scrollRestoration='manual');(function(){let t=!1;return'complete'===document.readyState?t=!0:window.addEventListener('load',function(){setTimeout(function(){t=!0})}),function(n){t&&n.state&&this.goToState(n.state)}})();Tt.addClass((ut.isMobile?'is':'not')+'-mobile'),ut.replaceSvgImports(),ut.ready(function(){function e(e){for(let t of r)if(t[0]>e)return t}const t=me('.api-body');if(!t)return;const n=me('.sidebar-body'),r=[];let s;t.$$('h2, h3, h4').forEach((e,t)=>{const i=e.$('a').id;let o,a;e.is('h2')?(o=xe('a',{href:'#'+i,html:e.text},n),s=a=xe('div',{class:'hidden'},n)):(o=xe('a',{href:'#'+i,html:i.replace('+','#').replace('module_','')},s),a=s),ut.resize(()=>r[t]=[e.positionTop,o,a])});let i,o;At.on('scroll',function({top:t}){let n=e(t);n[1]!==i&&(i&&i.removeClass('active'),i=n[1],i.addClass('active')),n[2]!==o&&(o&&o.addClass('hidden'),o=n[2],o&&o.removeClass('hidden'))})})})();
